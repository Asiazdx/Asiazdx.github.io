<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">
<script src="//cdn.bootcss.com/pace/1.0.2/pace.min.js"></script>
<link href="//cdn.bootcss.com/pace/1.0.2/themes/pink/pace-theme-flash.css" rel="stylesheet">
<style>
    .pace .pace-progress {
        background: #AFDBE3; /*进度条颜色*/
        height: 3px;
    }
    .pace .pace-progress-inner {
         box-shadow: 0 0 10px #AFDBE3, 0 0 5px     #AFDBE3; /*阴影颜色*/
    }
    .pace .pace-activity {
        border-top-color: #AFDBE3;    /*上边框颜色*/
        border-left-color: #AFDBE3;    /*左边框颜色*/
    }
</style>






<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="JavaScript初探," />










<meta name="description" content="JS中的内置对象包含很多内容，在这个阶段只介绍其中的一部分，剩下的会放到下一阶段介绍。本章主要介绍Date对象，Math对象，console对象和JS中的Error对象。">
<meta name="keywords" content="JavaScript初探">
<meta property="og:type" content="article">
<meta property="og:title" content="JS初探十（JS的内置对象）">
<meta property="og:url" content="http://www.github.com/Snowyzdx/JavaScript/JS初探十（JS中的内置对象）/index.html">
<meta property="og:site_name" content="Snowy&#39;blog">
<meta property="og:description" content="JS中的内置对象包含很多内容，在这个阶段只介绍其中的一部分，剩下的会放到下一阶段介绍。本章主要介绍Date对象，Math对象，console对象和JS中的Error对象。">
<meta property="og:locale" content="zh-Hans">
<meta property="og:image" content="http://p6nfblqvu.bkt.clouddn.com/jsJichujsa10.png">
<meta property="og:updated_time" content="2018-05-02T10:23:33.405Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="JS初探十（JS的内置对象）">
<meta name="twitter:description" content="JS中的内置对象包含很多内容，在这个阶段只介绍其中的一部分，剩下的会放到下一阶段介绍。本章主要介绍Date对象，Math对象，console对象和JS中的Error对象。">
<meta name="twitter:image" content="http://p6nfblqvu.bkt.clouddn.com/jsJichujsa10.png">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>




  <link rel="canonical" href="http://www.github.com/Snowyzdx/JavaScript/JS初探十（JS中的内置对象）/"/>





  <title>JS初探十（JS的内置对象） | Snowy'blog</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>
    <a href="https://github.com/Asiazdx"><img style="position: absolute; top: 0; left: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_left_white_ffffff.png" alt="Fork me on GitHub"></a>
    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Snowy's Blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <h1 class="site-subtitle" itemprop="description">Stay Hungry. Stay Foolish</h1>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-comments">
          <a href="/comments/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-heart"></i> <br />
            
            留言板
          </a>
        </li>
      
        
        <li class="menu-item menu-item-laboratory">
          <a href="/laboratory/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-code"></i> <br />
            
            实验室
          </a>
        </li>
      
        
        <li class="menu-item menu-item-other_note">
          <a href="/other_note/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-book"></i> <br />
            
            书影音
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.github.com/Snowyzdx/JavaScript/JS初探十（JS中的内置对象）/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="稻香Snowy">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/toux.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Snowy'blog">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">JS初探十（JS的内置对象）</h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-08-10T09:44:46+08:00">
                2016-08-10
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/JavaScript/" itemprop="url" rel="index">
                    <span itemprop="name">JavaScript</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p><img src="http://p6nfblqvu.bkt.clouddn.com/jsJichujsa10.png" width="600" alt="jsa10"></p>
<p>JS中的内置对象包含很多内容，在这个阶段只介绍其中的一部分，剩下的会放到下一阶段介绍。<br>本章主要介绍Date对象，Math对象，console对象和JS中的Error对象。</p>
<a id="more"></a>   
<hr>
<h1 id="Date对象"><a href="#Date对象" class="headerlink" title="Date对象"></a>Date对象</h1><h2 id="一、概述"><a href="#一、概述" class="headerlink" title="一、概述"></a>一、概述</h2><p>Date对象是javascript提供的日期时间和时间操作接口。它表示的时间范围是，1970年1月1日00:00:00前后的各1亿天（单位为毫秒）。<br>Date对象作为普通函数直接调用的，返回一个代表当前时间的字符串。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Date</span>();</span><br><span class="line"><span class="comment">//"Tue Dec 01 2015 09:34:43 GMT+0800 (CST)"</span></span><br></pre></td></tr></table></figure></p>
<p>注意，即使带有参数，Date作为普通函数使用时，返回的还是当前时间。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Date</span>(<span class="number">2000</span>,<span class="number">1</span>,<span class="number">1</span>);</span><br><span class="line"><span class="comment">//"Tue Dec 01 2015 09:34:43 GMT+0800 (CST)"</span></span><br></pre></td></tr></table></figure></p>
<p>上面代码说明，无论有没有参数，直接调用Date总是返回当前时间。   </p>
<h2 id="二、new-Date"><a href="#二、new-Date" class="headerlink" title="二、new Date()"></a>二、new Date()</h2><p>Date还可以当做构造函数使用，对它使用new命令，会返回一个Date对象的实例。如果不加参数，生成的就是代表当前时间的对象。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> today=<span class="keyword">new</span> <span class="built_in">Date</span>();</span><br></pre></td></tr></table></figure></p>
<p>这个Date实例对应的字符串值，就是当前时间。<br>作为构造函数时，Date对象可以接受各种格式的参数。    </p>
<h3 id="1-new-Date-milliseconds"><a href="#1-new-Date-milliseconds" class="headerlink" title="1.new Date(milliseconds)"></a>1.new Date(milliseconds)</h3><p>Date对象接受从1970年1月1日00:00:00 UTC开始计算的毫秒数作为参数。这意味着如果将Unix时间戳（单位为秒）作为参数，必须将Unix时间戳乘以1000。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="built_in">Date</span>(<span class="number">1378218728000</span>);</span><br><span class="line"><span class="comment">//Tue Sep 03 2013 22:32:08 GMT+0800 (CST)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//1970年1月2日的零时</span></span><br><span class="line"><span class="keyword">var</span> Jan02_1970=<span class="keyword">new</span> <span class="built_in">Date</span>(<span class="number">3600</span>*<span class="number">24</span>*<span class="number">1000</span>);</span><br><span class="line"><span class="comment">//Fri Jan 02 1970 08:00:00 GMT+0800 (CST)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//1969年12月31日的零时</span></span><br><span class="line"><span class="keyword">var</span> Dec31_1969=<span class="keyword">new</span> <span class="built_in">Date</span>(<span class="number">-3600</span>*<span class="number">24</span>*<span class="number">1000</span>);</span><br><span class="line"><span class="comment">//Wed Dec 31 1969 08:00:00 GMT+0800 (CST)</span></span><br></pre></td></tr></table></figure></p>
<p>上面最后一个例子说明，Date构造函数的参数可以是一个负数，表示1970年1月1日之前的时间。    </p>
<h3 id="2、new-Date-datestring"><a href="#2、new-Date-datestring" class="headerlink" title="2、new Date(datestring)"></a>2、new Date(datestring)</h3><p>Date对象还接受一个日期字符串作为参数，返回对应的时间。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="built_in">Date</span>(<span class="string">'January 6,2013'</span>);</span><br><span class="line"><span class="comment">// Sun Jan 06 2013 00:00:00 GMT+0800 (CST)</span></span><br></pre></td></tr></table></figure></p>
<p>日期字符串的完整格式是“month day，year hours:minutes:seconds”,比如“December 25,1995 13:30:00”。如果省略了小时，分钟或秒数，这些值会被设为0。<br>但是，其他格式日期字符串，也可以被解析。事实上，所有可以被Date.parse()方法解析的日期字符串，都可以当做Date对象的参数。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="built_in">Date</span>(<span class="string">'2013-2-15'</span>);</span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Date</span>(<span class="string">'2013/2/15'</span>);</span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Date</span>(<span class="string">'02/15/2013'</span>);</span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Date</span>(<span class="string">'2013-FEB-15'</span>);</span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Date</span>(<span class="string">'FEB, 15, 2013'</span>);</span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Date</span>(<span class="string">'FEB 15, 2013'</span>);</span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Date</span>(<span class="string">'Feberuary, 15, 2013'</span>);</span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Date</span>(<span class="string">'Feberuary 15, 2013'</span>);</span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Date</span>(<span class="string">'15 Feb 2013'</span>);</span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Date</span>(<span class="string">'15, Feberuary, 2013'</span>);</span><br><span class="line"><span class="comment">// Fri Feb 15 2013 00:00:00 GMT+0800 (CST)</span></span><br></pre></td></tr></table></figure></p>
<p>上面多种日期字符串的写法，返回的都是同一个时间。<br>注意，在ES5之中，如果日期采用连词线（-）格式分隔，且具有前导0，JavaScript会认为这是一个ISO格式的日期字符串，导致返回的时间是以UTC时区计算的。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="built_in">Date</span>(<span class="string">'2014-01-01'</span>);</span><br><span class="line"><span class="comment">//Wed Jan 01 2014 08:00:00 GMT+0800 (CST)</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Date</span>(<span class="string">'2014-1-1'</span>);</span><br><span class="line"><span class="comment">// Wed Jan 01 2014 00:00:00 GMT+0800 (CST)</span></span><br></pre></td></tr></table></figure></p>
<p>上面代码中，日期字符串有没有前导0，返回的结果是不一样的。如果没有前导0，javascript引擎假设用户处于本地时区，所以本例返回0点0分。如果有前导0（即如果你以ISO格式表示日期），就假设用户处于格林尼治国际标准时的时区，所以返回8点0分，但是，ES6改变了这种做法，规定凡是没有指定时区的日期字符串，一律认定用户处于本地时区。<br>总之，对于YYYY-MM-DD形式的字符串，javascript引擎可能会将其作为ISO格式来解析，采用格林尼治时区作为基石标准；而对于其他格式的日期字符串，一律视为非ISO格式，采用本地时区作为计时标准。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="built_in">Date</span>(<span class="string">'2014-12-11'</span>);</span><br><span class="line"><span class="comment">// Thu Dec 11 2014 08:00:00 GMT+0800 (CST)</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Date</span>(<span class="string">'2014/12/11'</span>)</span><br><span class="line"><span class="comment">// Thu Dec 11 2014 00:00:00 GMT+0800 (CST)</span></span><br></pre></td></tr></table></figure></p>
<p>上面代码中，第一个日期字符串是ISO格式，第二个不是，导致生成的时间不一样。    </p>
<h3 id="3-new-Date-year-month-day-hours-minutes-seconds-ms"><a href="#3-new-Date-year-month-day-hours-minutes-seconds-ms" class="headerlink" title="3.new Date(year,month[,day,hours,minutes,seconds,ms])"></a>3.new Date(year,month[,day,hours,minutes,seconds,ms])</h3><p>Date对象还可以接受多个整数作为参数，依次表示年，月，日，小时，分钟，秒和毫秒。如果采用这种格式，最少需要提供两个参数（年和月），其他参数是可选的，默认等于0.因为如果只是用“年”这一个参数，Date对象会将其解释为毫秒数。    </p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="built_in">Date</span>(<span class="number">123</span>)</span><br><span class="line"><span class="comment">//Thu Jan 01 1970 08:00:02 GMT+0800 (CST)</span></span><br></pre></td></tr></table></figure>
<p>各个参数的取值范围如下：   </p>
<ul>
<li>year：四位年份，如果写成两位数，则加上1900</li>
<li>month：表示月份，0表示一月，11表示12月</li>
<li>date：表示日期，1到31</li>
<li>hour：表示小时，0到23</li>
<li>minute：表示分钟，0到59</li>
<li>second：表示秒钟，0到59</li>
<li>ms：表示毫秒，0到99<br>注意，月份从0开始计算，但是，天数从1开始计算。另外，除了日期默认为1，小时，分钟，秒钟默认都是0。   <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="built_in">Date</span>(<span class="number">2013</span>,<span class="number">0</span>);</span><br><span class="line"><span class="comment">//Tue Jan 01 2013 00:00:00 GMT+0800 (CST)</span></span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Date</span>(<span class="number">2013</span>, <span class="number">0</span>, <span class="number">1</span>)</span><br><span class="line"><span class="comment">// Tue Jan 01 2013 00:00:00 GMT+0800 (CST)</span></span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Date</span>(<span class="number">2013</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>)</span><br><span class="line"><span class="comment">// Tue Jan 01 2013 00:00:00 GMT+0800 (CST)</span></span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Date</span>(<span class="number">2013</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>)</span><br><span class="line"><span class="comment">// Tue Jan 01 2013 00:00:00 GMT+0800 (CST)</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>上面代码返回的是2013年1月1日零点的时间。<br>这些参数如果超出了正常范围，会被自动折算。比如，如果月设为15，就折算为下一年的4月。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="built_in">Date</span>(<span class="number">2013</span>, <span class="number">15</span>)</span><br><span class="line"><span class="comment">// Tue Apr 01 2014 00:00:00 GMT+0800 (CST)</span></span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Date</span>(<span class="number">2013</span>, <span class="number">0</span>, <span class="number">0</span>)</span><br><span class="line"><span class="comment">// Mon Dec 31 2012 00:00:00 GMT+0800 (CST)</span></span><br></pre></td></tr></table></figure></p>
<p>参数还可以使用负数，表示扣去的时间。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="built_in">Date</span>(<span class="number">2013</span>,<span class="number">-1</span>);</span><br><span class="line"><span class="comment">// Sat Dec 01 2012 00:00:00 GMT+0800 (CST)</span></span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Date</span>(<span class="number">2013</span>, <span class="number">0</span>, <span class="number">-1</span>)</span><br><span class="line"><span class="comment">// Sun Dec 30 2012 00:00:00 GMT+0800 (CST)</span></span><br></pre></td></tr></table></figure></p>
<p>年份如果是0到99，会自动加上1900。比如，0表示1900年，1表示1901年；如果为负数，则表示公元前。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="built_in">Date</span>(<span class="number">0</span>, <span class="number">0</span>)</span><br><span class="line"><span class="comment">// Mon Jan 01 1900 00:00:00 GMT+0800 (CST)</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Date</span>(<span class="number">1</span>, <span class="number">0</span>)</span><br><span class="line"><span class="comment">// Tue Jan 01 1901 00:00:00 GMT+0800 (CST)</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Date</span>(<span class="number">-1</span>, <span class="number">0</span>)</span><br><span class="line"><span class="comment">// Fri Jan 01 -1 00:00:00 GMT+0800 (CST)</span></span><br></pre></td></tr></table></figure></p>
<h2 id="三、日期的计算"><a href="#三、日期的计算" class="headerlink" title="三、日期的计算"></a>三、日期的计算</h2><p>类型转换时，Date对象实例如果转为数值，则等于对应的毫秒数；如果转为字符串，则等于对应的日期字符串。所以，两个日期对象进行减法运算，返回的就是它们间隔的毫秒数；进行加法运算，返回的就是连接后的两个字符串。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> d1=<span class="keyword">new</span> <span class="built_in">Date</span>(<span class="number">2000</span>,<span class="number">2</span>,<span class="number">1</span>);</span><br><span class="line"><span class="keyword">var</span> d2=<span class="keyword">new</span> <span class="built_in">Date</span>(<span class="number">2000</span>,<span class="number">3</span>,<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(d2-d1);</span><br><span class="line"><span class="comment">//2678400000</span></span><br><span class="line"><span class="built_in">console</span>.log(d2+d1);</span><br><span class="line"><span class="comment">// "Sat Apr 01 2000 00:00:00 GMT+0800 (CST)Wed Mar 01 2000 00:00:00 GMT+0800 (CST)"</span></span><br></pre></td></tr></table></figure></p>
<h2 id="四、Date对象的静态方法"><a href="#四、Date对象的静态方法" class="headerlink" title="四、Date对象的静态方法"></a>四、Date对象的静态方法</h2><h3 id="1-Date-now"><a href="#1-Date-now" class="headerlink" title="1.Date.now()"></a>1.Date.now()</h3><p>该方法返回当前距离1970年1月1日00:00:00 UTC的毫秒数（Unix时间戳乘以1000）。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Date</span>.now();<span class="comment">// 1364026285194</span></span><br></pre></td></tr></table></figure></p>
<p>如果需要比毫秒更精确的时间，可以使用window.performance.now()。它提供页面加载到命令运行时已经过去的时间，可以精确到千分之一毫秒。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">window</span>.performance.now();<span class="comment">//21311140.415</span></span><br></pre></td></tr></table></figure></p>
<h3 id="2-Date-parse"><a href="#2-Date-parse" class="headerlink" title="2.Date.parse()"></a>2.Date.parse()</h3><p>Date.parse方法用来解析日期字符串，返回距离1970年1月1日00:00:00的毫秒数<br>标准的日期字符串的格式，应该完全或者部分符合RFC 2822和ISO 8061，即YYYY-MM-DDTHH:mm:ss:sssZ格式，其中最后的Z表示时区。但是，其他格式也可以被解析，请看下面的例子。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Date</span>.parse(<span class="string">'Aug 9,1995'</span>)</span><br><span class="line"><span class="comment">// 返回807897600000，以下省略返回值   </span></span><br><span class="line"></span><br><span class="line"><span class="built_in">Date</span>.parse(<span class="string">'January 26, 2011 13:51:50'</span>)</span><br><span class="line"><span class="built_in">Date</span>.parse(<span class="string">'Mon, 25 Dec 1995 13:30:00 GMT'</span>)</span><br><span class="line"><span class="built_in">Date</span>.parse(<span class="string">'Mon, 25 Dec 1995 13:30:00 +0430'</span>)</span><br><span class="line"><span class="built_in">Date</span>.parse(<span class="string">'2011-10-10'</span>)</span><br><span class="line"><span class="built_in">Date</span>.parse(<span class="string">'2011-10-10T14:48:00'</span>)</span><br></pre></td></tr></table></figure></p>
<p>如果解析失败，返回NaN。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Date</span>.parse(<span class="string">'xxx'</span>) <span class="comment">// NaN</span></span><br></pre></td></tr></table></figure></p>
<h3 id="3-Date-UTC"><a href="#3-Date-UTC" class="headerlink" title="3.Date.UTC()"></a>3.Date.UTC()</h3><p>默认情况下，Date对象返回的都是当前时区的时间。Date.UTC方法可以返回UTC时间（世界标准时间）。该方法接受年，月，日变量作为参数，返回当前距离1970年1月1日00:00:00UTC的毫秒数。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//格式</span></span><br><span class="line"><span class="built_in">Date</span>.UTC(year, month[, date[, hrs[, min[, sec[, ms]]]]]);</span><br><span class="line"><span class="comment">//用法</span></span><br><span class="line"><span class="built_in">Date</span>.UTC(<span class="number">2011</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">567</span>);</span><br><span class="line"><span class="comment">// 1293847384567</span></span><br></pre></td></tr></table></figure></p>
<p>该方法的参数用法与Date构造函数完全一致，比如月从0开始计算，日期从1开始计算。    </p>
<h2 id="五、Date实例对象的方法"><a href="#五、Date实例对象的方法" class="headerlink" title="五、Date实例对象的方法"></a>五、Date实例对象的方法</h2><p>Date的实例对象，有几十个自己的方法，分为以下三类。   </p>
<ul>
<li>to类：从Date对象返回一个字符串，表示指定的时间。</li>
<li>get类：获取Date对象的日期和时间</li>
<li>set类：设置Date对象的日期和时间<h3 id="1-to类方法"><a href="#1-to类方法" class="headerlink" title="1.to类方法"></a>1.to类方法</h3><h4 id="（1）、Date-prototype-toString"><a href="#（1）、Date-prototype-toString" class="headerlink" title="（1）、Date.prototype.toString()"></a>（1）、Date.prototype.toString()</h4>toString方法返回一个完整的日期字符串。   <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> d=<span class="keyword">new</span> <span class="built_in">Date</span>(<span class="number">2013</span>,<span class="number">0</span>,<span class="number">1</span>);</span><br><span class="line">d.toString();</span><br><span class="line"><span class="comment">//"Tue Jan 01 2013 00:00:00 GMT+0800 (CST)"</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>因为toString是默认的调用方法，所以如果直接读取Date对象实例，就相当于调用这个方法。   </p>
<h4 id="（2）、Date-prototype-toUTCString"><a href="#（2）、Date-prototype-toUTCString" class="headerlink" title="（2）、Date.prototype.toUTCString()"></a>（2）、Date.prototype.toUTCString()</h4><p>toUTCString方法翻译对应的UTC时间，也就是比北京时间晚8个小时。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> d=<span class="keyword">new</span> <span class="built_in">Date</span>(<span class="number">2013</span>,<span class="number">0</span>,<span class="number">1</span>);</span><br><span class="line">d.toUTCString();</span><br><span class="line"><span class="comment">// "Mon, 31 Dec 2012 16:00:00 GMT"</span></span><br><span class="line">d.toString()</span><br><span class="line"><span class="comment">// "Tue Jan 01 2013 00:00:00 GMT+0800 (CST)"</span></span><br></pre></td></tr></table></figure></p>
<h4 id="（3）、Date-prototype-toISOString"><a href="#（3）、Date-prototype-toISOString" class="headerlink" title="（3）、Date.prototype.toISOString()"></a>（3）、Date.prototype.toISOString()</h4><p>toISOString方法返回对应时间的ISO8601写法。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> d = <span class="keyword">new</span> <span class="built_in">Date</span>(<span class="number">2013</span>, <span class="number">0</span>, <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">d.toString()</span><br><span class="line"><span class="comment">// "Tue Jan 01 2013 00:00:00 GMT+0800 (CST)"</span></span><br><span class="line"></span><br><span class="line">d.toISOString()</span><br><span class="line"><span class="comment">// "2012-12-31T16:00:00.000Z"</span></span><br></pre></td></tr></table></figure></p>
<h4 id="（4）、Date-prototype-toJSON"><a href="#（4）、Date-prototype-toJSON" class="headerlink" title="（4）、Date.prototype.toJSON()"></a>（4）、Date.prototype.toJSON()</h4><p>toJSON方法返回一个符合JSON格式的ISO格式的日期字符串，与toISOString方法的返回结果完全相同。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> d = <span class="keyword">new</span> <span class="built_in">Date</span>(<span class="number">2013</span>, <span class="number">0</span>, <span class="number">1</span>);</span><br><span class="line">d.toJSON()</span><br><span class="line"><span class="comment">// "2012-12-31T16:00:00.000Z"</span></span><br><span class="line">d.toISOString()</span><br><span class="line"><span class="comment">// "2012-12-31T16:00:00.000Z"</span></span><br></pre></td></tr></table></figure></p>
<h4 id="（5）、Date-prototype-toDateString"><a href="#（5）、Date-prototype-toDateString" class="headerlink" title="（5）、Date.prototype.toDateString()"></a>（5）、Date.prototype.toDateString()</h4><p>toDateString方法返回日期字符串。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> d = <span class="keyword">new</span> <span class="built_in">Date</span>(<span class="number">2013</span>, <span class="number">0</span>, <span class="number">1</span>);</span><br><span class="line">d.toDateString() <span class="comment">// "Tue Jan 01 2013"</span></span><br></pre></td></tr></table></figure></p>
<h4 id="（6）、Date-prototype-toTimeString"><a href="#（6）、Date-prototype-toTimeString" class="headerlink" title="（6）、Date.prototype.toTimeString()"></a>（6）、Date.prototype.toTimeString()</h4><p>toTimeString方法返回时间字符串。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> d = <span class="keyword">new</span> <span class="built_in">Date</span>(<span class="number">2013</span>, <span class="number">0</span>, <span class="number">1</span>);</span><br><span class="line">d.toTimeString() <span class="comment">// "00:00:00 GMT+0800 (CST)"</span></span><br></pre></td></tr></table></figure></p>
<h4 id="（7）、Date-prototype-toLocaleDateString"><a href="#（7）、Date-prototype-toLocaleDateString" class="headerlink" title="（7）、Date.prototype.toLocaleDateString()"></a>（7）、Date.prototype.toLocaleDateString()</h4><p>toLocaleDateString方法返回一个字符串，代表日期的当地写法。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> d = <span class="keyword">new</span> <span class="built_in">Date</span>(<span class="number">2013</span>, <span class="number">0</span>, <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">d.toLocaleDateString()</span><br><span class="line"><span class="comment">// 中文版浏览器为"2013年1月1日"</span></span><br><span class="line"><span class="comment">// 英文版浏览器为"1/1/2013"</span></span><br></pre></td></tr></table></figure></p>
<h4 id="（8）、Date-prototype-toLocaleTimeString"><a href="#（8）、Date-prototype-toLocaleTimeString" class="headerlink" title="（8）、Date.prototype.toLocaleTimeString()"></a>（8）、Date.prototype.toLocaleTimeString()</h4><p>toLocaleTimeString方法返回一个字符串，代表时间的当地写法。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> d = <span class="keyword">new</span> <span class="built_in">Date</span>(<span class="number">2013</span>, <span class="number">0</span>, <span class="number">1</span>);</span><br><span class="line">d.toLocaleTimeString()</span><br><span class="line"><span class="comment">// 中文版浏览器为"上午12:00:00"</span></span><br><span class="line"><span class="comment">// 英文版浏览器为"12:00:00 AM"</span></span><br></pre></td></tr></table></figure></p>
<h3 id="2-get类方法"><a href="#2-get类方法" class="headerlink" title="2.get类方法"></a>2.get类方法</h3><p>Date对象提供了一系列get*方法，用来获取实例对象某个方面的值。   </p>
<ul>
<li>getTime():返回距离1970年1月1日00:00:00的毫秒数，等同于valueOf方法。</li>
<li>getDate():返回实例对象对应的每个月的几号（从1开始）</li>
<li>getDay():返回星期几，星期日为0，星期一位1，一次类推</li>
<li>getYear():返回距离1900的年数</li>
<li>getFullYear():返回四位的年份</li>
<li>getMonth():返回月份（0表示1月，11表示12月）</li>
<li>getHours():返回小时（0-23）</li>
<li>getMilliseconds():返回毫秒（0-999）</li>
<li>getMinutes():返回分钟（0-59）</li>
<li>getSeconds():返回秒（0-59）</li>
<li>getTimeZoneOffset():返回当前时间与UTC的时区差异，以分钟表示，返回结果考虑到了夏令时因素。</li>
</ul>
<p>所有这些get*方法返回的都是整数，不同方法返回值的范围不一样。   </p>
<ul>
<li>分钟和秒：0 到 59</li>
<li>小时：0 到 23</li>
<li>星期：0（星期天）到 6（星期六）</li>
<li>日期：1 到 31</li>
<li>月份：0（一月）到 11（十二月）</li>
<li>年份：距离1900年的年数</li>
</ul>
<h3 id="3-set类方法"><a href="#3-set类方法" class="headerlink" title="3.set类方法"></a>3.set类方法</h3><p>Date对象提供了一系列set*方法，用来设置实例对象的各个方面。   </p>
<ul>
<li>setDate(date)：设置实例对象对应的每个月的几号（1-31），返回改变后毫秒时间戳。</li>
<li>setYear(year)：设置距离1900年的年数。</li>
<li>setFullYear(year [, month, date])：设置四位年份。</li>
<li>setHours(hour [, min, sec, ms])：设置小时（0-23）。</li>
<li>setMilliseconds()：设置毫秒（0-999）。</li>
<li>setMinutes(min [, sec, ms])：设置分钟（0-59）</li>
<li>setMonth(month [, date])：设置月份（0-11）。</li>
<li>setSeconds(sec [, ms])：设置秒（0-59）。</li>
<li>setTime(milliseconds)：设置毫秒时间戳。</li>
</ul>
<p>这些方法基本是跟get<em>方法一一对应的，但是没有setDay方法，因为星期几是计算出来的，而不是设置的。另外，需要注意的是，凡是涉及到设置月份，都是从0开始算的，即0是1月，11是12月。<br>set</em>方法的参数都会自动折算。以setDate为例，如果参数超过当月的最大天数，则向下一个月顺延，如果参数是负数，表示从上个月的最后一天开始减去的天数。    </p>
<h3 id="4-Date-prototype-valueOf"><a href="#4-Date-prototype-valueOf" class="headerlink" title="4.Date.prototype.valueOf()"></a>4.Date.prototype.valueOf()</h3><p>valueOf方法返回实例对象距离1970年1月1日00:00:00 UTC对应的毫秒数，该方法等同于getTime方法。</p>
<hr>
<h1 id="Math对象"><a href="#Math对象" class="headerlink" title="Math对象"></a>Math对象</h1><p>Math是JavaScript的内置对象，提供一系列数学常数和数学方法。该对象不是构造函数，不能生成实例，所有的属性和方法都必须在Math对象上调用。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="built_in">Math</span>();</span><br><span class="line"><span class="comment">//TypeError: object is not a function</span></span><br></pre></td></tr></table></figure></p>
<p>上面代码表示，Math不能当作构造函数用。    </p>
<h2 id="一、属性"><a href="#一、属性" class="headerlink" title="一、属性"></a>一、属性</h2><p>Math对象提供以下一些只读的数学常数。    </p>
<ul>
<li>Math.E：常数e</li>
<li>Math.LN2：2的自然对数。</li>
<li>Math.LN10：10的自然对数。</li>
<li>Math.LOG2E：以2为底的e的对数。</li>
<li>Math.LOG10E：以10为底的e的对数。</li>
<li>Math.PI：常数Pi。</li>
<li>Math.SQRT1_2：0.5的平方根。</li>
<li>Math.SQRT2：2的平方根。</li>
</ul>
<p>这些常数的值如下。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="built_in">Math</span>.E <span class="comment">// 2.718281828459045</span></span><br><span class="line"><span class="built_in">Math</span>.LN2 <span class="comment">// 0.6931471805599453</span></span><br><span class="line"><span class="built_in">Math</span>.LN10 <span class="comment">// 2.302585092994046</span></span><br><span class="line"><span class="built_in">Math</span>.LOG2E <span class="comment">// 1.4426950408889634</span></span><br><span class="line"><span class="built_in">Math</span>.LOG10E <span class="comment">// 0.4342944819032518</span></span><br><span class="line"><span class="built_in">Math</span>.PI <span class="comment">// 3.141592653589793</span></span><br><span class="line"><span class="built_in">Math</span>.SQRT1_2 <span class="comment">// 0.7071067811865476</span></span><br><span class="line"><span class="built_in">Math</span>.SQRT2 <span class="comment">// 1.4142135623730951</span></span><br></pre></td></tr></table></figure></p>
<h2 id="二、方法"><a href="#二、方法" class="headerlink" title="二、方法"></a>二、方法</h2><p>Math对象提供以下一些数学方法。   </p>
<ul>
<li>Math.abs()：绝对值</li>
<li>Math.ceil()：向上取整</li>
<li>Math.floor()：向下取整</li>
<li>Math.max()：最大值</li>
<li>Math.min()：最小值</li>
<li>Math.pow()：指数运算</li>
<li>Math.sqrt()：平方根</li>
<li>Math.log()：自然对数</li>
<li>Math.exp()：e的指数</li>
<li>Math.round()：四舍五入</li>
<li>Math.random()：随机数<br>Math.max方法和Math.min方法都可以接受多个参数，Math.max返回其中最大的参数，Math.min返回最小的参数。有趣的是, Math.min 不传参数返回 Infinity, Math.max 不传参数返回 -Infinity。   <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Math</span>.max(<span class="number">2</span>, <span class="number">-1</span>, <span class="number">5</span>) <span class="comment">// 5</span></span><br><span class="line"><span class="built_in">Math</span>.min(<span class="number">2</span>, <span class="number">-1</span>, <span class="number">5</span>) <span class="comment">// -1</span></span><br><span class="line"><span class="built_in">Math</span>.min() <span class="comment">// Infinity</span></span><br><span class="line"><span class="built_in">Math</span>.max() <span class="comment">// -Infinity</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>Math.floor方法接受一个参数，返回小于该参数的最大整数。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Math</span>.floor(<span class="number">3.2</span>) <span class="comment">// 3</span></span><br><span class="line"><span class="built_in">Math</span>.floor(<span class="number">-3.2</span>) <span class="comment">// -4</span></span><br></pre></td></tr></table></figure></p>
<p>Math.ceil方法接受一个参数，返回大于该参数的最小整数。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Math</span>.ceil(<span class="number">3.2</span>) <span class="comment">// 4</span></span><br><span class="line"><span class="built_in">Math</span>.ceil(<span class="number">-3.2</span>) <span class="comment">// -3</span></span><br></pre></td></tr></table></figure></p>
<p>Math.round方法用于四舍五入。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Math</span>.round(<span class="number">0.1</span>);<span class="comment">//0</span></span><br><span class="line"><span class="built_in">Math</span>.round(<span class="number">0.5</span>) <span class="comment">// 1</span></span><br><span class="line"><span class="built_in">Math</span>.round(<span class="number">0.6</span>) <span class="comment">// 1</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 等同于</span></span><br><span class="line"><span class="built_in">Math</span>.floor(x + <span class="number">0.5</span>)</span><br></pre></td></tr></table></figure></p>
<p>注意，它对负数的处理（主要是对0.5的处理）。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Math</span>.round(<span class="number">-1.1</span>) <span class="comment">// -1</span></span><br><span class="line"><span class="built_in">Math</span>.round(<span class="number">-1.5</span>) <span class="comment">// -1</span></span><br><span class="line"><span class="built_in">Math</span>.round(<span class="number">-1.6</span>) <span class="comment">// -2</span></span><br></pre></td></tr></table></figure></p>
<p>Math.pow方法返回以第一个参数为底数、第二个参数为幂的指数值。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Math</span>.pow(<span class="number">2</span>, <span class="number">2</span>) <span class="comment">// 4</span></span><br><span class="line"><span class="built_in">Math</span>.pow(<span class="number">2</span>, <span class="number">3</span>) <span class="comment">// 8</span></span><br></pre></td></tr></table></figure></p>
<p>Math.sqrt方法返回参数值的平方根。如果参数是一个负值，则返回NaN。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Math</span>.sqrt(<span class="number">4</span>) <span class="comment">// 2</span></span><br><span class="line"><span class="built_in">Math</span>.sqrt(<span class="number">-4</span>) <span class="comment">// NaN</span></span><br></pre></td></tr></table></figure></p>
<p>Math.log方法返回以e为底的自然对数值。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Math</span>.log(<span class="built_in">Math</span>.E) <span class="comment">// 1</span></span><br><span class="line"><span class="built_in">Math</span>.log(<span class="number">10</span>) <span class="comment">// 2.302585092994046</span></span><br></pre></td></tr></table></figure></p>
<h3 id="1-Math-random"><a href="#1-Math-random" class="headerlink" title="1.Math.random()"></a>1.Math.random()</h3><p>Math.random()返回0到1之间的一个伪随机数，可能等于0，但是一定小于1。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Math</span>.random();<span class="comment">//0.7151307314634323</span></span><br></pre></td></tr></table></figure></p>
<p>任何范围的随机数生成函数如下。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getRandomArbitrary</span>(<span class="params">min,max</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">Math</span>.random()*(max-min)+min;</span><br><span class="line">&#125;</span><br><span class="line">getRandomArbitrary(<span class="number">1.5</span>, <span class="number">6.5</span>)</span><br><span class="line"><span class="comment">// 2.4942810038223864</span></span><br></pre></td></tr></table></figure></p>
<p>任意范围的随机整数生成函数如下：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getRandomArbitrary</span>(<span class="params">min,max</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random()*(max-min+<span class="number">1</span>))+min;</span><br><span class="line">&#125;</span><br><span class="line">getRandomInt(<span class="number">1</span>,<span class="number">6</span>);<span class="comment">//5</span></span><br></pre></td></tr></table></figure></p>
<p>返回随机字符的例子如下：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">random_str</span>(<span class="params">length</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">var</span> ALPHABET = <span class="string">'ABCDEFGHIJKLMNOPQRSTUVWXYZ'</span>;</span><br><span class="line">  ALPHABET += <span class="string">'abcdefghijklmnopqrstuvwxyz'</span>;</span><br><span class="line">  ALPHABET += <span class="string">'0123456789-_'</span>;</span><br><span class="line">  <span class="keyword">var</span> str=<span class="string">''</span>;</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;length;i++)&#123;</span><br><span class="line">    <span class="keyword">var</span> rand=<span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random()*ALPHABET.length);</span><br><span class="line">    str+=ALPHABET.substring(rand, rand + <span class="number">1</span>);   </span><br><span class="line">  &#125;</span><br><span class="line">  retrun str;</span><br><span class="line">&#125;</span><br><span class="line">random_str(<span class="number">6</span>) <span class="comment">// "NdQKOr"</span></span><br></pre></td></tr></table></figure></p>
<p>上面代码中，random_str函数接受一个整数作为参数，返回变量ALPHABET内的随机字符所组成的指定长度的字符串。   </p>
<h3 id="2、三角函数方法"><a href="#2、三角函数方法" class="headerlink" title="2、三角函数方法"></a>2、三角函数方法</h3><p>Math对象还提供一系列三角函数方法。   </p>
<ul>
<li>Math.sin()：返回参数的正弦</li>
<li>Math.sin()：返回参数的正弦</li>
<li>Math.tan()：返回参数的正切</li>
<li>Math.asin()：返回参数的反正弦（弧度值）</li>
<li>Math.acos()：返回参数的反余弦（弧度值）</li>
<li>Math.atan()：返回参数的反正切（弧度值）<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Math</span>.sin(<span class="number">0</span>) <span class="comment">// 0</span></span><br><span class="line"><span class="built_in">Math</span>.cos(<span class="number">0</span>) <span class="comment">// 1</span></span><br><span class="line"><span class="built_in">Math</span>.tan(<span class="number">0</span>) <span class="comment">// 0</span></span><br><span class="line"><span class="built_in">Math</span>.asin(<span class="number">1</span>) <span class="comment">// 1.5707963267948966</span></span><br><span class="line"><span class="built_in">Math</span>.acos(<span class="number">1</span>) <span class="comment">// 0</span></span><br><span class="line"><span class="built_in">Math</span>.atan(<span class="number">1</span>) <span class="comment">// 0.7853981633974483</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<hr>
<h1 id="console对象"><a href="#console对象" class="headerlink" title="console对象"></a>console对象</h1><p>console对象是javascript的原生对象，它有点像Unix系统的标准输出stdout和标准错误stderr，可以输出各种信息到控制台，并且还提供了很多有用的辅助方法。<br>console的常见用途有两个。   </p>
<ul>
<li>调试程序，显示网页代码运行时的错误信息。</li>
<li>提供了一个命令行接口，用来与网页代码互动<h2 id="一、浏览器实现"><a href="#一、浏览器实现" class="headerlink" title="一、浏览器实现"></a>一、浏览器实现</h2>console对象的浏览器实现，包含在浏览器自带的开发工具之中。以Chrome浏览器的“开发者工具（Developer Tools）”为例，可以使用下面三种方法的一种打开它。    </li>
</ul>
<ol>
<li>按F12或者Control+Shift+i(PC平台)、Alt+Command+i（Mac平台）</li>
<li>在菜单中选择“工具/开发者工具”。</li>
<li>在一个页面元素上，打开右键菜单，选择其中“Inspect Element”<br>打开“开发者工具”以后，可以在顶端看到，有多个面板可供选择，主要如下：   </li>
<li><strong>Elements</strong>：查看网页的HTML源码和Css代码</li>
<li><strong>Resources</strong>:查看网页加载的各种资源文件（比如代码文件，字体文件，css文件等）以及在硬盘上创建的各种内容（比如本地缓存，Cookie，LocalStorage等）</li>
<li><strong>Network</strong>：查看网页的HTTP通信情况</li>
<li><strong>Sources</strong>：查看网页加载的所有源码</li>
<li><strong>Timeline</strong>：查看各种网页行为随时间变化的情况</li>
<li><strong>Performance</strong>：查看网页的性能情况，比如CPU和内存消耗</li>
<li><strong>Console</strong>：用来有运行javascript命令。<br>这些面板都有各自的用途，以下只介绍Console面板（又称为控制台）。<br>Console面板基本上就是一个命令行窗口，你可以在提示符下，键入各种命令。   </li>
</ol>
<h2 id="二、console对象的方法"><a href="#二、console对象的方法" class="headerlink" title="二、console对象的方法"></a>二、console对象的方法</h2><p>console对象提供的各种方法，用来与控制台窗口互动。    </p>
<h3 id="1-console-log-console-info-console-debug"><a href="#1-console-log-console-info-console-debug" class="headerlink" title="1.console.log(),console.info(),console.debug()"></a>1.console.log(),console.info(),console.debug()</h3><p>console.log方法用于在控制台输出信息。它可以接受多个参数，将它们的结果连接起来输出。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="string">'hello world'</span>)</span><br><span class="line"><span class="comment">//hello world</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'a'</span>,<span class="string">'b'</span>,<span class="string">'c'</span>);</span><br><span class="line"><span class="comment">//a b c</span></span><br></pre></td></tr></table></figure></p>
<p>console.log方法会自动在每次输出的结尾，添加换行符。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="number">1</span>);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">2</span>);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">3</span>);</span><br><span class="line"><span class="comment">//1</span></span><br><span class="line"><span class="comment">//2</span></span><br><span class="line"><span class="comment">//3</span></span><br></pre></td></tr></table></figure></p>
<p>如果第一个参数是格式字符串（使用了格式占位符），console.log方法将依次用后面的参数替换占位符，然后再进行输出。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="string">'%s+%s=%s'</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">2</span>)</span><br><span class="line"><span class="comment">//1+1=2</span></span><br></pre></td></tr></table></figure></p>
<p>上面代码中，console.log方法的第一个参数有三个占位符（%s），第二，三，四个参数会在显示时，依次替换掉这三个占位符。<br>console.log方法支持以下占位符，不同格式的数据必须使用对应格式的占位符。   </p>
<ul>
<li>%s 字符串</li>
<li>%d 整数</li>
<li>%i 整数</li>
<li>%f 浮点数</li>
<li>%o 对象的链接</li>
<li>%c CSS格式字符串<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> number=<span class="number">11</span>*<span class="number">9</span>;</span><br><span class="line"><span class="keyword">var</span> color=<span class="string">'red'</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'%d %s balloons'</span>,number,color);</span><br><span class="line"><span class="comment">//99 red balloons</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>上面代码中，第一个参数是数值，对应的占位符是%d，第二个参数是字符串，对应的占位符是%s。<br>使用%c占位符，对应的参数必须是CSS语句，用来对输出内容进行CSS渲染<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="string">'%c this is styled!'</span>,<span class="string">'color:red;background:yellow;font-size:24px'</span>)</span><br></pre></td></tr></table></figure></p>
<p>上面代码运行后，输出的内容将显示为黄底红字。<br>console.log方法的两种参数格式，可以结合在一起使用。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="string">'%s+%s'</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="string">'=2'</span>);</span><br><span class="line"><span class="comment">//1+1=2</span></span><br></pre></td></tr></table></figure></p>
<p>如果参数是一个对象，console.log会显示该对象的值。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(&#123;<span class="attr">foo</span>:<span class="string">'bar'</span>&#125;)</span><br><span class="line"><span class="comment">//Object &#123;foo:'bar'&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Date</span>)</span><br><span class="line"><span class="comment">//function Date()&#123;[native code]&#125;</span></span><br></pre></td></tr></table></figure></p>
<p>上面代码输出Date对象的值，结果为一个构造函数。<br>console.info()和conso.debug()都是console.log方法的别名，用法完全一样。只不过consol.info方法会在输出信息的前面，加上一个蓝色图标。<br>console对象的所有方法，都可以被覆盖。因此，可以按照自己的需要，定义console.log方法。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[<span class="string">'log'</span>,<span class="string">'info'</span>,<span class="string">'warn'</span>,<span class="string">'error'</span>].forEach(<span class="function"><span class="keyword">function</span>(<span class="params">method</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>[method]=<span class="built_in">console</span>[method].bind(<span class="built_in">console</span>,<span class="keyword">new</span> <span class="built_in">Date</span>().toISOString())</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'出错了'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2014-05-18T09:00.000Z 出错了！</span></span><br></pre></td></tr></table></figure></p>
<p>上面代码表示，使用自定义的console.log方法，可以在显示结果添加当前时间。    </p>
<h3 id="2、console-warn-console-error"><a href="#2、console-warn-console-error" class="headerlink" title="2、console.warn(),console.error()"></a>2、console.warn(),console.error()</h3><p>warn方法和error方法也是在控制台输出信息，它们与log方法的不同之处在于，warn方法输出信息时，在最前面加一个黄色三角，表示警告；error方法输出信息时，在前方加一个红色叉，表示出错，同时会显示错误发生的堆栈。其他方面一样。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.error(<span class="string">'Error :%s (%i)'</span>,<span class="string">'Server is not responding'</span>,<span class="number">500</span>);</span><br><span class="line"><span class="comment">// Error: Server is not responding (500)</span></span><br><span class="line"><span class="built_in">console</span>.warn(<span class="string">'Warning! Too few nodes (%d)'</span>,<span class="built_in">document</span>.childNodes.length);</span><br><span class="line"><span class="comment">//Warning! Too few nodes (1)</span></span><br></pre></td></tr></table></figure></p>
<p>可以这样理解，log方法是写入标准输出（stdout），warn方法和写入标准错误（stderr）。   </p>
<h3 id="3-console-table"><a href="#3-console-table" class="headerlink" title="3.console.table()"></a>3.console.table()</h3><p>对于某些符合类型的数据，console.table方法可以将其转为表格显示。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> languages=[</span><br><span class="line">  &#123;<span class="attr">name</span>:<span class="string">'javascript'</span>,<span class="attr">fileExtension</span>:<span class="string">'.js'</span>&#125;,</span><br><span class="line">  &#123; <span class="attr">name</span>: <span class="string">"TypeScript"</span>, <span class="attr">fileExtension</span>: <span class="string">".ts"</span> &#125;,</span><br><span class="line">  &#123; <span class="attr">name</span>: <span class="string">"CoffeeScript"</span>, <span class="attr">fileExtension</span>: <span class="string">".coffee"</span> &#125;</span><br><span class="line">]</span><br><span class="line"><span class="built_in">console</span>.table(languages);</span><br></pre></td></tr></table></figure></p>
<p>复合类型数据为表格显示的条件是，必须拥有主键。对于数组来说，主键就是数字键。对于对象来说，主键就是它的最外层键。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> languages=&#123;</span><br><span class="line">  csharp:&#123;<span class="attr">name</span>:<span class="string">'C#'</span>,<span class="attr">paradigm</span>:<span class="string">'object-oriented'</span>&#125;,</span><br><span class="line">  fsharp: &#123; <span class="attr">name</span>: <span class="string">"F#"</span>, <span class="attr">paradigm</span>: <span class="string">"functional"</span> &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="built_in">console</span>.table(languages);</span><br></pre></td></tr></table></figure></p>
<h3 id="4-console-count"><a href="#4-console-count" class="headerlink" title="4.console.count()"></a>4.console.count()</h3><p>count方法用于计数，输出它被调用了多少次。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">greet</span>(<span class="params">user</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.count();</span><br><span class="line">    <span class="keyword">return</span> <span class="string">'hi '</span> + user;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">greet(<span class="string">'bob'</span>);</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">:1</span></span><br><span class="line"><span class="comment">hi bob</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line">greet(<span class="string">'alice'</span>);</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">:2</span></span><br><span class="line"><span class="comment">hi alice</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line">greet(<span class="string">'bob'</span>)</span><br><span class="line"><span class="comment">//  : 3</span></span><br><span class="line"><span class="comment">// "hi bob"</span></span><br></pre></td></tr></table></figure></p>
<p>上面代码每次调用greet函数，内部的console.count方法就输出执行次数。</p>
<p>该方法可以接受一个字符串作为参数，作为标签，对执行次数进行分类。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">greet</span>(<span class="params">user</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.count(user);</span><br><span class="line">  <span class="keyword">return</span> <span class="string">"hi "</span> + user;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">greet(<span class="string">'bob'</span>)</span><br><span class="line"><span class="comment">// bob: 1</span></span><br><span class="line"><span class="comment">// "hi bob"</span></span><br><span class="line"></span><br><span class="line">greet(<span class="string">'alice'</span>)</span><br><span class="line"><span class="comment">// alice: 1</span></span><br><span class="line"><span class="comment">// "hi alice"</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">greet(<span class="string">'bob'</span>)</span><br><span class="line"><span class="comment">// bob: 2</span></span><br><span class="line"><span class="comment">// "hi bob"</span></span><br></pre></td></tr></table></figure></p>
<p>上面代码根据参数的不同，显示bob执行了两次，alice执行了一次。   </p>
<h3 id="5-console-dir-console-dirxml"><a href="#5-console-dir-console-dirxml" class="headerlink" title="5.console.dir(),console.dirxml()"></a>5.console.dir(),console.dirxml()</h3><p>dir 方法用来对一个对象进行检查（inspect），并以易于阅读和打印的格式显示。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(&#123;<span class="attr">f1</span>: <span class="string">'foo'</span>, <span class="attr">f2</span>: <span class="string">'bar'</span>&#125;)</span><br><span class="line"><span class="comment">// Object &#123;f1: "foo", f2: "bar"&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.dir(&#123;<span class="attr">f1</span>: <span class="string">'foo'</span>, <span class="attr">f2</span>: <span class="string">'bar'</span>&#125;)</span><br><span class="line"><span class="comment">// Object</span></span><br><span class="line"><span class="comment">//   f1: "foo"</span></span><br><span class="line"><span class="comment">//   f2: "bar"</span></span><br><span class="line"><span class="comment">//   __proto__: Object</span></span><br></pre></td></tr></table></figure></p>
<p>上面代码显示dir方法的输出结果，比log方法更易读，信息也更丰富。<br>该方法对于输出 DOM 对象非常有用，因为会显示 DOM 对象的所有属性。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.dir(<span class="built_in">document</span>.body);</span><br></pre></td></tr></table></figure></p>
<p>Node环境之中，还可以指定以代码高亮的形式输出。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.dir(obj,&#123;<span class="attr">colors</span>:<span class="literal">true</span>&#125;)</span><br></pre></td></tr></table></figure></p>
<p>dirxml方法主要用于以目录树的形式，显示 DOM 节点。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.dirxml(<span class="built_in">document</span>.body);</span><br></pre></td></tr></table></figure></p>
<p>如果参数不是 DOM 节点，而是普通的 JavaScript 对象，console.dirxml等同于console.dir。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.dirxml([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>])</span><br><span class="line"><span class="comment">// 等同于</span></span><br><span class="line"><span class="built_in">console</span>.dir([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>])</span><br></pre></td></tr></table></figure></p>
<h3 id="6-console-assert"><a href="#6-console-assert" class="headerlink" title="6.console.assert()"></a>6.console.assert()</h3><p>assert方法主要用于程序运行中，进行条件判断，如果不满足条件，就显示一个错误，但不会中断程序执行。这样就相当于提示用户，内部状态不正确。    </p>
<p>它接受两个参数，第第一个参数是表达式，第二个参数是字符串。只有当第一个参数为false，才会提示错误，在控制台输出第二个参数，否则不会有任何结果。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.assert(<span class="literal">false</span>,<span class="string">'判断条件不成立'</span>)</span><br><span class="line"><span class="comment">// Assertion failed: 判断条件不成立</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//相当于</span></span><br><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="literal">false</span>)&#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">'判断条件不成立'</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125; <span class="keyword">catch</span>(e)&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(e);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>下面是另一个例子，判断子节点的个数是否大于500.<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.assert(list.childNodes.length&lt;<span class="number">500</span>,<span class="string">'节点个数大于等于500'</span>)</span><br></pre></td></tr></table></figure></p>
<p>上面代码中，如果符合条件的节点小于500个，不会有任何输出；只有大于等于500时，才会在控制台提示错误，并且显示指定文本。    </p>
<h3 id="7-console-time-console-timeEnd"><a href="#7-console-time-console-timeEnd" class="headerlink" title="7.console.time(),console.timeEnd()"></a>7.console.time(),console.timeEnd()</h3><p>这两个方法用于计时，可以算出一个操作所花费的准确时间。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.time(<span class="string">'Array initialize'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> array=<span class="keyword">new</span> <span class="built_in">Array</span>(<span class="number">1000000</span>);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = array.length - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">    array[i] = <span class="keyword">new</span> <span class="built_in">Object</span>();</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.timeEnd(<span class="string">'Array initialize'</span>);</span><br><span class="line"><span class="comment">// Array initialize: 1914.481ms</span></span><br></pre></td></tr></table></figure></p>
<p>time方法表示计时开始，timeEnd方法表示计时结束。它们的参数是计时器的名称。调用timeEnd方法之后，console窗口会显示“计时器名称: 所耗费的时间”。   </p>
<h3 id="8、console-profile-console-profileEnd"><a href="#8、console-profile-console-profileEnd" class="headerlink" title="8、console.profile(),console.profileEnd()"></a>8、console.profile(),console.profileEnd()</h3><p>console.profile方法用来新建一个性能测试器（profile），它的参数是性能测试器的名字。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.profile(<span class="string">'p'</span>)</span><br><span class="line"><span class="comment">// Profile 'p' started.</span></span><br></pre></td></tr></table></figure></p>
<p>console.profileEnd方法用来结束正在运行的性能测试器。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.profileEnd()</span><br><span class="line"><span class="comment">// Profile 'p' finished.</span></span><br></pre></td></tr></table></figure></p>
<p>打开浏览器的开发者工具，在profile面板中，可以看到这个性能调试器的运行结果。   </p>
<h3 id="9-console-group-console-groupend-console-groupCollapsed"><a href="#9-console-group-console-groupend-console-groupCollapsed" class="headerlink" title="9. console.group(),console.groupend(),console.groupCollapsed()"></a>9. console.group(),console.groupend(),console.groupCollapsed()</h3><p>console.group和console.groupend这两个方法用于将显示的信息分组。它只在输出大量信息时有用，分在一组的信息，可以用鼠标折叠/展开。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.group(<span class="string">'Group One'</span>);</span><br><span class="line"><span class="built_in">console</span>.group(<span class="string">'Group Two'</span>);</span><br><span class="line"><span class="comment">//some code</span></span><br><span class="line"><span class="built_in">console</span>.groupEnd(); <span class="comment">// Group Two 结束</span></span><br><span class="line"><span class="built_in">console</span>.groupEnd(); <span class="comment">// Group One 结束</span></span><br></pre></td></tr></table></figure></p>
<p>console.groupCollapsed方法与console.group方法很类似，唯一的区别是该组的内容，在第一次显示时是收起的（collapsed），而不是展开的。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.groupCollapsed(<span class="string">'Fetching Data'</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'Request Sent'</span>);</span><br><span class="line"><span class="built_in">console</span>.error(<span class="string">'Error: Server not responding (500)'</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.groupEnd();</span><br></pre></td></tr></table></figure></p>
<p>上面代码只显示一行”Fetching Data“，点击后才会展开，显示其中包含的两行。   </p>
<h3 id="10、console-trace-console-clear"><a href="#10、console-trace-console-clear" class="headerlink" title="10、console.trace(),console.clear()"></a>10、console.trace(),console.clear()</h3><p>console.trace方法显示当前执行的代码在堆栈中的调用路径。<br>console.clear方法用于清除当前控制台的所有输出，将光标回置到第一行。如果用户选中了控制台的“Preserve log”选项，网页脚本调用console.log将不起作用，但手动在控制台执行该方法依然有效。   </p>
<hr>
<h1 id="Error对象"><a href="#Error对象" class="headerlink" title="Error对象"></a>Error对象</h1><p>javascript解析或执行时，一旦发生错误，引擎就会抛出一个错误对象。<br>javascript原生提供一个Error构造函数，抛出的错误都是这个构造函数的实例。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> err=<span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">'出错了'</span>);</span><br><span class="line"><span class="built_in">console</span>.log(err.message);<span class="comment">//'出错了'</span></span><br></pre></td></tr></table></figure></p>
<p>Error构造函数接受一个参数，表示错误提示，可以从实例的message属性读到这个参数。<br>代码解析或运行时发生错误，javascript引擎就会自动产生，并抛出一个Error对象的实例，然后整个程序就中断发生错误地方，不再往下执行。<br>根据语言标准，Error对象的实例必须有message属性，表示出错时的提示信息，其他属性没有提及。大多数javascript引擎，对Error实例还提供name和stack属性，分别表示错误的名称和错误的堆栈，但它们是非标准的，不是每种实现都有。    </p>
<ol>
<li>message：错误提示信息</li>
<li>name:错误名称（非标准属性）</li>
<li>stack:错误的堆栈（非标准属性）<br>利用name和message这两个属性，可以对发生什么错误有一个大概的了解。   <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(error.name)&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(error.name+<span class="string">":"</span>+<span class="built_in">console</span>.error(.message));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>上面代码表示，显示错误的名称以及出错提示信息。<br>stack属性用来查看错误发生时的堆栈。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">throwit</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">''</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">catchit</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">try</span>&#123;</span><br><span class="line">        throwit();</span><br><span class="line">    &#125;<span class="keyword">catch</span>(e)&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(e.satck);<span class="comment">//print stack trace</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">catchit()</span><br><span class="line"><span class="comment">/*Error</span></span><br><span class="line"><span class="comment">    at throwit (~/examples/throwcatch.js:9:11)</span></span><br><span class="line"><span class="comment">    at catchit (~/examples/throwcatch.js:3:9)</span></span><br><span class="line"><span class="comment">    at repl:1:5</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure></p>
<p>上面代码显示，抛出错误首先是在throwit函数，然后是在catchit函数，最后是在函数的运行环境中。   </p>
<h2 id="二、javascript的原生错误类型"><a href="#二、javascript的原生错误类型" class="headerlink" title="二、javascript的原生错误类型"></a>二、javascript的原生错误类型</h2><p>Error对象是最一般的错误类型，在它的基础上，javascript还顶一个了其他6种错误，也就是说，存在Error的6个派生对象。    </p>
<h3 id="1、SyntaxError"><a href="#1、SyntaxError" class="headerlink" title="1、SyntaxError"></a>1、SyntaxError</h3><p>SyntaxError是解析代码时发生的语法错误。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//变量名错误</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> <span class="number">1</span>a;</span><br><span class="line"></span><br><span class="line"><span class="comment">//缺少括号</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log <span class="string">'hello'</span>);</span><br></pre></td></tr></table></figure></p>
<h3 id="2、ReferenceError"><a href="#2、ReferenceError" class="headerlink" title="2、ReferenceError"></a>2、ReferenceError</h3><p>ReferenceError是引用一个不存在的变量时发生的错误。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(unknownVariable);</span><br><span class="line"><span class="comment">// ReferenceError: unknownVariable is not defined</span></span><br></pre></td></tr></table></figure></p>
<p>另一个触发场景是，将一个值分配给无法分配的对象，比如对函数的运行结果或者this赋值。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log()=<span class="number">1</span>;</span><br><span class="line"><span class="comment">// ReferenceError: Invalid left-hand side in assignment</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">this</span> = <span class="number">1</span></span><br><span class="line"><span class="comment">// ReferenceError: Invalid left-hand side in assignment</span></span><br></pre></td></tr></table></figure></p>
<p>上面代码对函数console.log的运行结果和this赋值，结果都引发了ReferenceError错误。   </p>
<h3 id="3、RangeError"><a href="#3、RangeError" class="headerlink" title="3、RangeError"></a>3、RangeError</h3><p>RangeError是当一个值超出有效范围时发生错误。主要有几种情况，一是数组长度为负数，而是Number对象的方法参数超出范围，以及函数堆栈超过最大值。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="built_in">Array</span>(<span class="number">-1</span>);</span><br><span class="line"><span class="comment">// RangeError: Invalid array length</span></span><br><span class="line">(<span class="number">1234</span>).toExponential(<span class="number">21</span>)</span><br><span class="line"><span class="comment">// RangeError: toExponential() argument must be between 0 and 20</span></span><br></pre></td></tr></table></figure></p>
<h3 id="4、TypeError"><a href="#4、TypeError" class="headerlink" title="4、TypeError"></a>4、TypeError</h3><p>TypeError是变量或参数不是预期类型时发生的错误。比如，对字符串，布尔值，数值等原始类型的值使用new命令，就会抛出这种错误，因为new命令的参数应该是一个构造函数。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="number">123</span>;<span class="comment">//TypeError: number is not a func</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> obj=&#123;&#125;;</span><br><span class="line">obj.unknowMethod();<span class="comment">//TypeError: obj.unknownMethod is not a function</span></span><br></pre></td></tr></table></figure></p>
<p>上面代码的第二种情况，调用对象不存在的方法，会抛出TypeError错误。   </p>
<h3 id="5、URIError"><a href="#5、URIError" class="headerlink" title="5、URIError"></a>5、URIError</h3><p>URIError是URI相关函数的参数不正确时抛出的错误，主要涉及encodeURI()、decodeURI()、encodeURIComponent()、decodeURIComponent()、escape()和unescape()这六个函数。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">decodeURI</span>(<span class="string">'%2'</span>);</span><br><span class="line"><span class="comment">//URIError: URI malformed</span></span><br></pre></td></tr></table></figure></p>
<h3 id="6、EvalError"><a href="#6、EvalError" class="headerlink" title="6、EvalError"></a>6、EvalError</h3><p>eval函数没有被正确执行时，会抛出EvalError错误。该错误类型已经不再在ES5中出现了，只是为了保证与以前的代码兼容，才继续保留。<br>以上这6种派生错误，连同原始的Error对象，都是构造函数。开发者可以使用它们，人为生成错误对象的实例。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">'出错了！'</span>);</span><br><span class="line"><span class="keyword">new</span> <span class="built_in">RangeError</span>(<span class="string">'出错了，变量超出有效范围！'</span>);</span><br><span class="line"><span class="keyword">new</span> <span class="built_in">TypeError</span>(<span class="string">'出错了，变量类型无效！'</span>);</span><br></pre></td></tr></table></figure></p>
<p>上面代码新建错误对象的实例，实质就是手动抛出错误。可以看到，错误对象的构造函数接受一个参数，代表错误提示信息（message）。   </p>
<h2 id="三、自定义错误"><a href="#三、自定义错误" class="headerlink" title="三、自定义错误"></a>三、自定义错误</h2><p>除了JavaScript内建的7种错误对象，还可以定义自己的错误对象。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">UserError</span>(<span class="params">message</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.message=message||<span class="string">'默认信息'</span>;</span><br><span class="line">  <span class="keyword">this</span>.name=<span class="string">'UserError'</span>;</span><br><span class="line">&#125;</span><br><span class="line">UserError.prototype=<span class="keyword">new</span> <span class="built_in">Error</span>();</span><br><span class="line">UserError.prototype.constructor=UserError;</span><br></pre></td></tr></table></figure></p>
<p>上面代码自定义一个错误对象UserError，让它继承Error对象。然后，就可以生成这种自定义的错误了。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> UserError(<span class="string">'这是自定义的错误！'</span>);</span><br></pre></td></tr></table></figure></p>
<h2 id="四、throw语句"><a href="#四、throw语句" class="headerlink" title="四、throw语句"></a>四、throw语句</h2><p>throw语句的作用是中端程序执行，抛出一个意外或错误。它接受一个表达式作为参数，可以抛出各种值。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//抛出一个字符串</span></span><br><span class="line"><span class="keyword">throw</span> <span class="string">'Error!'</span>;</span><br><span class="line"><span class="comment">//抛出一个数值</span></span><br><span class="line"><span class="keyword">throw</span> <span class="number">42</span>;</span><br><span class="line"><span class="comment">//抛出一个布尔值</span></span><br><span class="line"><span class="keyword">throw</span> <span class="literal">true</span>；</span><br><span class="line"><span class="comment">//抛出一个对象</span></span><br><span class="line"><span class="keyword">throw</span> &#123;<span class="attr">toString</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123; <span class="keyword">return</span> <span class="string">"Error!"</span>; &#125;&#125;;</span><br></pre></td></tr></table></figure></p>
<p>上面代码表示，throw可以接受各种值作为参数。javascript引擎一旦遇到throw语句，就会停止执行后面的语句，并将throw语句的参数值，返回给用户。<br>如果只是简单的错误，返回一条出错的信息就可以了，但是如果遇到复杂的情况，就需要在出错以后进一步处理。这时最好的做法是使用throw语句手动抛出一个Error对象。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">'出错了'</span>);</span><br></pre></td></tr></table></figure></p>
<p>上面语句新建一个Error对象，然后将这个对象抛出，整个程序就会中断在这个地方。    </p>
<p>throw语句还可以抛出用户自定义的错误。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">UserError</span>(<span class="params">message</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.message=message||<span class="string">'默认信息'</span>;</span><br><span class="line">  <span class="keyword">this</span>.name=<span class="string">'UserError'</span>;</span><br><span class="line">&#125;</span><br><span class="line">UserError.prototype.toString=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">this</span>.name + <span class="string">': "'</span> + <span class="keyword">this</span>.message + <span class="string">'"'</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">throw</span> <span class="keyword">new</span> UserError(<span class="string">"出错了！"</span>);</span><br></pre></td></tr></table></figure></p>
<p>可以通过自定义一个assert函数，规范化throw抛出的信息。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">assert</span>(<span class="params">expression,message</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">if</span>(!expression)&#123;</span><br><span class="line">    <span class="keyword">throw</span> &#123;<span class="attr">name</span>: <span class="string">'Assertion Exception'</span>, <span class="attr">message</span>: message&#125;;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>上面代码定义了一个assert函数，它接受一个表达式和一个字符串作为参数。一旦表达式不为真，就抛出指定的字符串。它的用法如下。    </p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">assert(<span class="keyword">typeof</span> myVar != <span class="string">'undefined'</span>, <span class="string">'myVar is undefined!'</span>);</span><br></pre></td></tr></table></figure>
<p>console对象的assert方法，与上面函数的工作机制一模一样，所以可以直接使用。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.assert(<span class="keyword">typeof</span> myVar != <span class="string">'undefined'</span>, <span class="string">'myVar is undefined!'</span>);</span><br></pre></td></tr></table></figure></p>
<h2 id="五、try…catch结构"><a href="#五、try…catch结构" class="headerlink" title="五、try…catch结构"></a>五、try…catch结构</h2><p>为了对错误进行处理，需要使用try…catch结构。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line">  <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">'出错了'</span>);</span><br><span class="line">&#125;<span class="keyword">catch</span>(e)&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(e.name + <span class="string">": "</span> + e.message);</span><br><span class="line">  <span class="built_in">console</span>.log(e.stack);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// Error: 出错了!</span></span><br><span class="line"><span class="comment">//   at &lt;anonymous&gt;:3:9</span></span><br><span class="line"><span class="comment">//   ...</span></span><br></pre></td></tr></table></figure></p>
<p>上面代码中，try代码块一抛出错误（上例用的是throw语句），JavaScript引擎就立即把代码的执行，转到catch代码块。可以看作，错误可以被catch代码块捕获。catch接受一个参数，表示try代码块抛出的值。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">throwIt</span>(<span class="params">exception</span>)</span>&#123;</span><br><span class="line"> <span class="keyword">try</span>&#123;</span><br><span class="line">     <span class="keyword">throw</span> exception;</span><br><span class="line"> &#125;<span class="keyword">catch</span>(e)&#123;</span><br><span class="line">     <span class="built_in">console</span>.log(<span class="string">'Catche:'</span>+e);</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">throwIt(<span class="number">3</span>);</span><br><span class="line"><span class="comment">// Caught: 3</span></span><br><span class="line">throwIt(<span class="string">'hello'</span>);</span><br><span class="line"><span class="comment">// Caught: hello</span></span><br><span class="line">throwIt(<span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">'An error happened'</span>));</span><br><span class="line"><span class="comment">// Caught: Error: An error happened</span></span><br></pre></td></tr></table></figure></p>
<p>上面代码中，throw语句先后抛出数值、字符串和错误对象。<br>catch代码块捕获错误之后，程序不会中断，会按照正常流程继续执行下去。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="string">'出错了'</span>;</span><br><span class="line">&#125;<span class="keyword">catch</span>(e)&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">111</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">222</span>);</span><br><span class="line"><span class="comment">//111</span></span><br><span class="line"><span class="comment">//222</span></span><br></pre></td></tr></table></figure></p>
<p>上面代码中，try代码块抛出的错误，被catch代码块捕获后，程序会继续向下执行。<br>catch代码之中，还可以再抛出错误，甚至使用嵌套的try…catch结构。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> n=<span class="number">100</span>;</span><br><span class="line"><span class="keyword">var</span> n=<span class="number">100</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line">    <span class="keyword">throw</span> n;</span><br><span class="line">&#125; <span class="keyword">catch</span>(e)&#123;</span><br><span class="line">    <span class="keyword">if</span>(e&lt;=<span class="number">50</span>)&#123;</span><br><span class="line">        <span class="comment">//...</span></span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">throw</span> e;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>上面代码中，catch代码之中又抛出了一个错误。<br>为了捕捉不同类型的错误，catch代码块之中可以加入判断语句。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line">  foo.bar();</span><br><span class="line">&#125;<span class="keyword">catch</span>(e)&#123;</span><br><span class="line">  <span class="keyword">if</span>(e <span class="keyword">instanceof</span> <span class="built_in">EvalError</span>)&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(e.name + <span class="string">": "</span> + e.message);</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span>(e <span class="keyword">instanceof</span> <span class="built_in">RangeError</span>)&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(e.name + <span class="string">": "</span> + e.message);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>上面代码中，catch捕获错误之后，会判断错误类型（EvalError还是RangeError），进行不同的处理。<br>try…catch结构是JavaScript语言受到Java语言影响的一个明显的例子。这种结构多多少少是对结构化编程原则一种破坏，处理不当就会变成类似goto语句的效果，应该谨慎使用。   </p>
<h2 id="六、finally代码块"><a href="#六、finally代码块" class="headerlink" title="六、finally代码块"></a>六、finally代码块</h2><p>try…catch结果运行在最后添加一个finally代码块，表示不管是否出现错误，都必需在最后运行的语句。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">cleansUp</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">try</span>&#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">'出错了……'</span>);</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'此行不会执行'</span>);</span><br><span class="line">    &#125; <span class="keyword">finally</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'完成清理工作'</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">cleansUp();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 完成清理工作</span></span><br><span class="line"><span class="comment">// Error: 出错了…</span></span><br></pre></td></tr></table></figure></p>
<p>上面代码中，由于没有catch语句块，所以错误没有捕获。执行finally代码块以后，程序就中断在错误抛出的地方。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">idle</span>(<span class="params">x</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">try</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(x);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">'result'</span>;</span><br><span class="line">  &#125;<span class="keyword">finally</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'FINALLY'</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(idle(<span class="string">'hello'</span>));</span><br><span class="line"><span class="comment">// hello</span></span><br><span class="line"><span class="comment">// FINALLY</span></span><br><span class="line"><span class="comment">// "result"</span></span><br></pre></td></tr></table></figure></p>
<p>上面代码说明，即使有return语句在前，finally代码快依然会得到执行，且在其执行完毕后，才会显示return语句的值。<br>下面的例子说明，return语句的执行是排在finally代码之前，只是等finally代码执行完毕后才返回。    </p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> count=<span class="number">0</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">countUp</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="keyword">try</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> count;</span><br><span class="line">  &#125;<span class="keyword">finally</span>&#123;</span><br><span class="line">    count++;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(countUp());<span class="comment">//0</span></span><br><span class="line"><span class="built_in">console</span>.log(count);<span class="comment">//1</span></span><br></pre></td></tr></table></figure>
<p>上面代码说明，return语句的count的值，是在finally代码运行之前，就获取完成了。<br>下面是finally代码块用法的典型场景。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">openFile();</span><br><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line">   writeFile(Data);</span><br><span class="line">&#125;<span class="keyword">catch</span>(e)&#123;</span><br><span class="line">  handleError(e);</span><br><span class="line">&#125;<span class="keyword">finally</span>&#123;</span><br><span class="line">  closeFile();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>上面代码首先打开一个文件，然后在try代码快中写入文件，如果没有发生错误，则运行finally代码块关闭文件；一旦发生错误，则先使用catch代码块处理错误，再使用finally代码块关闭文件。<br>下面的例子充分反映了try…catch…finally这三个之间执行顺序。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">try</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">throw</span> <span class="string">'bug'</span>;</span><br><span class="line">    &#125; <span class="keyword">catch</span>(e)&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="number">1</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;<span class="comment">//这句原本会延迟到finally代码块结束再执行</span></span><br><span class="line">        <span class="built_in">console</span>.log(<span class="number">2</span>);<span class="comment">//不会运行</span></span><br><span class="line">    &#125; <span class="keyword">finally</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="number">3</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;<span class="comment">//这句会覆盖掉前面那句return</span></span><br><span class="line">        <span class="built_in">console</span>.log(<span class="number">4</span>);<span class="comment">//不会执行</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">5</span>);<span class="comment">//不会运行</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> result=f();</span><br><span class="line"><span class="comment">//0</span></span><br><span class="line"><span class="comment">//1</span></span><br><span class="line"><span class="comment">//3</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(result);<span class="comment">//false</span></span><br></pre></td></tr></table></figure></p>
<p>上面代码中，catch代码块结束执行之前，会先执行finally代码块。从catch转入finally的标志，不仅有return语句，还有throw语句。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="keyword">try</span>&#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="string">'出错了'</span>;</span><br><span class="line">  &#125;<span class="keyword">catch</span>(e)&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'捕捉到内部错误'</span>);</span><br><span class="line">    <span class="keyword">throw</span> e;<span class="comment">//这句原本会等到finally结束再执行</span></span><br><span class="line">  &#125; <span class="keyword">finally</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;<span class="comment">//直接返回</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line">  f();</span><br><span class="line">&#125; <span class="keyword">catch</span>(e)&#123;</span><br><span class="line">  <span class="comment">// 此处不会执行</span></span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'caught outer "bogus"'</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//  捕捉到内部错误</span></span><br></pre></td></tr></table></figure></p>
<p>上面代码中，进入catch代码块之后，一遇到throw语句，就会去执行去执行finally代码块，其中有return false语句，因此就直接返回了，不再会去执行catch代码剩下的部分了。   </p>

      
    </div>
    
    
    

    
      <div>
        <div id="wechat_subscriber" style="display: block; padding: 10px 0; margin: 20px auto; width: 100%; text-align: center">
    <img id="wechat_subscriber_qcode" src="/uploads/wechat-qcode.png" alt="稻香Snowy wechat" style="width: 200px; max-width: 100%;"/>
    <div>欢迎您扫一扫上面的微信公众号，订阅我的博客！</div>
</div>

      </div>
    

    
      <div>
        <div style="padding: 10px 0; margin: 20px auto; width: 90%; text-align: center;">
  <div>您的支持将鼓励我继续创作！</div>
  <button id="rewardButton" disable="enable" onclick="var qr = document.getElementById('QR'); if (qr.style.display === 'none') {qr.style.display='block';} else {qr.style.display='none'}">
    <span>打赏</span>
  </button>
  <div id="QR" style="display: none;">

    
      <div id="wechat" style="display: inline-block">
        <img id="wechat_qr" src="/images/wechatpay.jpg" alt="稻香Snowy 微信支付"/>
        <p>微信支付</p>
      </div>
    

    

    

  </div>
</div>

      </div>
    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/JavaScript初探/" rel="tag"><i class="fa fa-tag"></i> JavaScript初探</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/JavaScript/JS初探九（JS中的函数）/" rel="next" title="JS初探九（JS中的函数）">
                <i class="fa fa-chevron-left"></i> JS初探九（JS中的函数）
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/JavaScript/JS初探十一（JS中的垃圾回收以及内存管理）/" rel="prev" title="JS初探十一（JS中的垃圾回收以及内存管理）">
                JS初探十一（JS中的垃圾回收以及内存管理） <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/images/toux.jpg"
                alt="稻香Snowy" />
            
              <p class="site-author-name" itemprop="name">稻香Snowy</p>
              <p class="site-description motion-element" itemprop="description">Stay Hungry.Stay Foolish</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">34</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">2</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">4</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/Asiazdx" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://www.jianshu.com/u/fb5f478b1a94" target="_blank" title="简书">
                      
                        <i class="fa fa-fw fa-heartbeat"></i>简书</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://juejin.im/user/59638598f265da6c4523c761" target="_blank" title="掘金">
                      
                        <i class="fa fa-fw fa-spinner"></i>掘金</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://weibo.com/5541828133/profile?rightmod=1&wvr=6&mod=personinfo&is_all=1" target="_blank" title="Weibo">
                      
                        <i class="fa fa-fw fa-Weibo"></i>Weibo</a>
                  </span>
                
            </div>
          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Date对象"><span class="nav-number">1.</span> <span class="nav-text">Date对象</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#一、概述"><span class="nav-number">1.1.</span> <span class="nav-text">一、概述</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#二、new-Date"><span class="nav-number">1.2.</span> <span class="nav-text">二、new Date()</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-new-Date-milliseconds"><span class="nav-number">1.2.1.</span> <span class="nav-text">1.new Date(milliseconds)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2、new-Date-datestring"><span class="nav-number">1.2.2.</span> <span class="nav-text">2、new Date(datestring)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-new-Date-year-month-day-hours-minutes-seconds-ms"><span class="nav-number">1.2.3.</span> <span class="nav-text">3.new Date(year,month[,day,hours,minutes,seconds,ms])</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#三、日期的计算"><span class="nav-number">1.3.</span> <span class="nav-text">三、日期的计算</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#四、Date对象的静态方法"><span class="nav-number">1.4.</span> <span class="nav-text">四、Date对象的静态方法</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-Date-now"><span class="nav-number">1.4.1.</span> <span class="nav-text">1.Date.now()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-Date-parse"><span class="nav-number">1.4.2.</span> <span class="nav-text">2.Date.parse()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-Date-UTC"><span class="nav-number">1.4.3.</span> <span class="nav-text">3.Date.UTC()</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#五、Date实例对象的方法"><span class="nav-number">1.5.</span> <span class="nav-text">五、Date实例对象的方法</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-to类方法"><span class="nav-number">1.5.1.</span> <span class="nav-text">1.to类方法</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#（1）、Date-prototype-toString"><span class="nav-number">1.5.1.1.</span> <span class="nav-text">（1）、Date.prototype.toString()</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#（2）、Date-prototype-toUTCString"><span class="nav-number">1.5.1.2.</span> <span class="nav-text">（2）、Date.prototype.toUTCString()</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#（3）、Date-prototype-toISOString"><span class="nav-number">1.5.1.3.</span> <span class="nav-text">（3）、Date.prototype.toISOString()</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#（4）、Date-prototype-toJSON"><span class="nav-number">1.5.1.4.</span> <span class="nav-text">（4）、Date.prototype.toJSON()</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#（5）、Date-prototype-toDateString"><span class="nav-number">1.5.1.5.</span> <span class="nav-text">（5）、Date.prototype.toDateString()</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#（6）、Date-prototype-toTimeString"><span class="nav-number">1.5.1.6.</span> <span class="nav-text">（6）、Date.prototype.toTimeString()</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#（7）、Date-prototype-toLocaleDateString"><span class="nav-number">1.5.1.7.</span> <span class="nav-text">（7）、Date.prototype.toLocaleDateString()</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#（8）、Date-prototype-toLocaleTimeString"><span class="nav-number">1.5.1.8.</span> <span class="nav-text">（8）、Date.prototype.toLocaleTimeString()</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-get类方法"><span class="nav-number">1.5.2.</span> <span class="nav-text">2.get类方法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-set类方法"><span class="nav-number">1.5.3.</span> <span class="nav-text">3.set类方法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-Date-prototype-valueOf"><span class="nav-number">1.5.4.</span> <span class="nav-text">4.Date.prototype.valueOf()</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Math对象"><span class="nav-number">2.</span> <span class="nav-text">Math对象</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#一、属性"><span class="nav-number">2.1.</span> <span class="nav-text">一、属性</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#二、方法"><span class="nav-number">2.2.</span> <span class="nav-text">二、方法</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-Math-random"><span class="nav-number">2.2.1.</span> <span class="nav-text">1.Math.random()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2、三角函数方法"><span class="nav-number">2.2.2.</span> <span class="nav-text">2、三角函数方法</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#console对象"><span class="nav-number">3.</span> <span class="nav-text">console对象</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#一、浏览器实现"><span class="nav-number">3.1.</span> <span class="nav-text">一、浏览器实现</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#二、console对象的方法"><span class="nav-number">3.2.</span> <span class="nav-text">二、console对象的方法</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-console-log-console-info-console-debug"><span class="nav-number">3.2.1.</span> <span class="nav-text">1.console.log(),console.info(),console.debug()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2、console-warn-console-error"><span class="nav-number">3.2.2.</span> <span class="nav-text">2、console.warn(),console.error()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-console-table"><span class="nav-number">3.2.3.</span> <span class="nav-text">3.console.table()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-console-count"><span class="nav-number">3.2.4.</span> <span class="nav-text">4.console.count()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-console-dir-console-dirxml"><span class="nav-number">3.2.5.</span> <span class="nav-text">5.console.dir(),console.dirxml()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-console-assert"><span class="nav-number">3.2.6.</span> <span class="nav-text">6.console.assert()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-console-time-console-timeEnd"><span class="nav-number">3.2.7.</span> <span class="nav-text">7.console.time(),console.timeEnd()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#8、console-profile-console-profileEnd"><span class="nav-number">3.2.8.</span> <span class="nav-text">8、console.profile(),console.profileEnd()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#9-console-group-console-groupend-console-groupCollapsed"><span class="nav-number">3.2.9.</span> <span class="nav-text">9. console.group(),console.groupend(),console.groupCollapsed()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#10、console-trace-console-clear"><span class="nav-number">3.2.10.</span> <span class="nav-text">10、console.trace(),console.clear()</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Error对象"><span class="nav-number">4.</span> <span class="nav-text">Error对象</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#二、javascript的原生错误类型"><span class="nav-number">4.1.</span> <span class="nav-text">二、javascript的原生错误类型</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1、SyntaxError"><span class="nav-number">4.1.1.</span> <span class="nav-text">1、SyntaxError</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2、ReferenceError"><span class="nav-number">4.1.2.</span> <span class="nav-text">2、ReferenceError</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3、RangeError"><span class="nav-number">4.1.3.</span> <span class="nav-text">3、RangeError</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4、TypeError"><span class="nav-number">4.1.4.</span> <span class="nav-text">4、TypeError</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5、URIError"><span class="nav-number">4.1.5.</span> <span class="nav-text">5、URIError</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6、EvalError"><span class="nav-number">4.1.6.</span> <span class="nav-text">6、EvalError</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#三、自定义错误"><span class="nav-number">4.2.</span> <span class="nav-text">三、自定义错误</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#四、throw语句"><span class="nav-number">4.3.</span> <span class="nav-text">四、throw语句</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#五、try…catch结构"><span class="nav-number">4.4.</span> <span class="nav-text">五、try…catch结构</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#六、finally代码块"><span class="nav-number">4.5.</span> <span class="nav-text">六、finally代码块</span></a></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">稻香Snowy</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  <div class="bg_content">
    <div class="filter"></div>
    <canvas id="canvas"></canvas>
  </div>
</body>

<script>
var canvas = document.getElementById("canvas");
var ctx = canvas.getContext("2d");
var cw = canvas.width = window.innerWidth,
  cx = cw / 2;
var ch = canvas.height = window.innerHeight,
  cy = ch / 2;

ctx.fillStyle = "#999";
var linesNum = 16;
var linesRy = [];
var requestId = null;

function Line(flag) {
  this.flag = flag;
  this.a = {};
  this.b = {};
  if (flag == "v") {
    this.a.y = 0;
    this.b.y = ch;
    this.a.x = randomIntFromInterval(0, ch);
    this.b.x = randomIntFromInterval(0, ch);
  } else if (flag == "h") {
    this.a.x = 0;
    this.b.x = cw;
    this.a.y = randomIntFromInterval(0, cw);
    this.b.y = randomIntFromInterval(0, cw);
  }
  this.va = randomIntFromInterval(25, 100) / 100;
  this.vb = randomIntFromInterval(25, 100) / 100;

  this.draw = function() {
    ctx.strokeStyle = "#ccc";
    ctx.beginPath();
    ctx.moveTo(this.a.x, this.a.y);
    ctx.lineTo(this.b.x, this.b.y);
    ctx.stroke();
  }

  this.update = function() {
    if (this.flag == "v") {
      this.a.x += this.va;
      this.b.x += this.vb;
    } else if (flag == "h") {
      this.a.y += this.va;
      this.b.y += this.vb;
    }

    this.edges();
  }

  this.edges = function() {
    if (this.flag == "v") {
      if (this.a.x < 0 || this.a.x > cw) {
        this.va *= -1;
      }
      if (this.b.x < 0 || this.b.x > cw) {
        this.vb *= -1;
      }
    } else if (flag == "h") {
      if (this.a.y < 0 || this.a.y > ch) {
        this.va *= -1;
      }
      if (this.b.y < 0 || this.b.y > ch) {
        this.vb *= -1;
      }
    }
  }

}

for (var i = 0; i < linesNum; i++) {
  var flag = i % 2 == 0 ? "h" : "v";
  var l = new Line(flag);
  linesRy.push(l);
}

function Draw() {
  requestId = window.requestAnimationFrame(Draw);
  ctx.clearRect(0, 0, cw, ch);

  for (var i = 0; i < linesRy.length; i++) {
    var l = linesRy[i];
    l.draw();
    l.update();
  }
  for (var i = 0; i < linesRy.length; i++) {
    var l = linesRy[i];
    for (var j = i + 1; j < linesRy.length; j++) {
      var l1 = linesRy[j]
      Intersect2lines(l, l1);
    }
  }
}

function Init() {
  linesRy.length = 0;
  for (var i = 0; i < linesNum; i++) {
    var flag = i % 2 == 0 ? "h" : "v";
    var l = new Line(flag);
    linesRy.push(l);
  }

  if (requestId) {
    window.cancelAnimationFrame(requestId);
    requestId = null;
  }

  cw = canvas.width = window.innerWidth,
    cx = cw / 2;
  ch = canvas.height = window.innerHeight,
    cy = ch / 2;

  Draw();
};

setTimeout(function() {
  Init();

  addEventListener('resize', Init, false);
}, 15);

function Intersect2lines(l1, l2) {
  var p1 = l1.a,
    p2 = l1.b,
    p3 = l2.a,
    p4 = l2.b;
  var denominator = (p4.y - p3.y) * (p2.x - p1.x) - (p4.x - p3.x) * (p2.y - p1.y);
  var ua = ((p4.x - p3.x) * (p1.y - p3.y) - (p4.y - p3.y) * (p1.x - p3.x)) / denominator;
  var ub = ((p2.x - p1.x) * (p1.y - p3.y) - (p2.y - p1.y) * (p1.x - p3.x)) / denominator;
  var x = p1.x + ua * (p2.x - p1.x);
  var y = p1.y + ua * (p2.y - p1.y);
  if (ua > 0 && ub > 0) {
    markPoint({
      x: x,
      y: y
    })
  }
}

function markPoint(p) {
  ctx.beginPath();
  ctx.arc(p.x, p.y, 2, 0, 2 * Math.PI);
  ctx.fill();
}

function randomIntFromInterval(mn, mx) {
  return ~~(Math.random() * (mx - mn + 1) + mn);
}

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/canvasline.js?v=5.1.4"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</script>
</html>
