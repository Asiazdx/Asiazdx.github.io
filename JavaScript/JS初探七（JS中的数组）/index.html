<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">
<script src="//cdn.bootcss.com/pace/1.0.2/pace.min.js"></script>
<link href="//cdn.bootcss.com/pace/1.0.2/themes/pink/pace-theme-flash.css" rel="stylesheet">
<style>
    .pace .pace-progress {
        background: #AFDBE3; /*进度条颜色*/
        height: 3px;
    }
    .pace .pace-progress-inner {
         box-shadow: 0 0 10px #AFDBE3, 0 0 5px     #AFDBE3; /*阴影颜色*/
    }
    .pace .pace-activity {
        border-top-color: #AFDBE3;    /*上边框颜色*/
        border-left-color: #AFDBE3;    /*左边框颜色*/
    }
</style>






<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="JavaScript初探," />










<meta name="keywords" content="JavaScript初探">
<meta property="og:type" content="article">
<meta property="og:title" content="JS初探七（JS中的数组）">
<meta property="og:url" content="http://www.github.com/Snowyzdx/JavaScript/JS初探七（JS中的数组）/index.html">
<meta property="og:site_name" content="Snowy&#39;blog">
<meta property="og:locale" content="zh-Hans">
<meta property="og:image" content="http://p6nfblqvu.bkt.clouddn.com/jsJichujsa07.png">
<meta property="og:updated_time" content="2018-05-01T12:38:10.889Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="JS初探七（JS中的数组）">
<meta name="twitter:image" content="http://p6nfblqvu.bkt.clouddn.com/jsJichujsa07.png">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>




  <link rel="canonical" href="http://www.github.com/Snowyzdx/JavaScript/JS初探七（JS中的数组）/"/>





  <title>JS初探七（JS中的数组） | Snowy'blog</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>
    <a href="https://github.com/Asiazdx"><img style="position: absolute; top: 0; left: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_left_white_ffffff.png" alt="Fork me on GitHub"></a>
    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Snowy's Blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <h1 class="site-subtitle" itemprop="description">Stay Hungry. Stay Foolish</h1>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-comments">
          <a href="/comments/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-heart"></i> <br />
            
            留言板
          </a>
        </li>
      
        
        <li class="menu-item menu-item-laboratory">
          <a href="/laboratory/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-code"></i> <br />
            
            实验室
          </a>
        </li>
      
        
        <li class="menu-item menu-item-other_note">
          <a href="/other_note/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-book"></i> <br />
            
            书影音
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.github.com/Snowyzdx/JavaScript/JS初探七（JS中的数组）/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="稻香Snowy">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/toux.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Snowy'blog">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">JS初探七（JS中的数组）</h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-08-07T09:44:46+08:00">
                2016-08-07
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/JavaScript/" itemprop="url" rel="index">
                    <span itemprop="name">JavaScript</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p><img src="http://p6nfblqvu.bkt.clouddn.com/jsJichujsa07.png" width="600" alt="jsa07"><br><a id="more"></a></p>
<h2 id="一、数组的定义"><a href="#一、数组的定义" class="headerlink" title="一、数组的定义"></a>一、数组的定义</h2><p>数组（array）是按次序排列的一组值。每个值的位置都有编号（从0开始）<br>数组可以在定义时就赋值，也可以先定义再赋值。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr1=[<span class="string">'a'</span>,<span class="string">'b'</span>,<span class="string">'c'</span>];</span><br><span class="line"><span class="keyword">var</span> arr2=[];</span><br><span class="line">arr2[<span class="number">0</span>]=<span class="string">'a'</span>;</span><br><span class="line">arr2[<span class="number">1</span>]=<span class="string">'b'</span>;</span><br><span class="line">arr2[<span class="number">2</span>]=<span class="string">'c'</span>;</span><br></pre></td></tr></table></figure></p>
<p>任何形式的数据，都可以放入数组。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr3=[</span><br><span class="line">  &#123;<span class="attr">a</span>:<span class="number">1</span>&#125;,[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="keyword">return</span> <span class="literal">true</span>&#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure></p>
<h2 id="二、数组的本质"><a href="#二、数组的本质" class="headerlink" title="二、数组的本质"></a>二、数组的本质</h2><p>本质上，数组属于一种特殊的对象。typeof运算符会返回数组的类型为“object”。<br>数组的Object.keys方法返回的结果是[0,1,2…]    </p>
<p>javascript语言规定，对象的键名一律为字符串，所以，数组的键名其实也是字符串。之所以可以用数值读取，是因为非字符串的键名会被转为字符串的。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr=[<span class="string">'a'</span>,<span class="string">'b'</span>,<span class="string">'c'</span>];</span><br><span class="line">arr[<span class="string">'0'</span>];<span class="comment">//'a'</span></span><br><span class="line">arr[<span class="number">0</span>];<span class="comment">//'a'</span></span><br></pre></td></tr></table></figure></p>
<p>需要注意的是，这一条在赋值时也成立。如果一个值可以被转为整数，则以该值为键名，等于对应的整数为键名。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a=[];</span><br><span class="line">a[<span class="string">'1000'</span>]=<span class="string">'abc'</span>;</span><br><span class="line">a[<span class="number">1000</span>];<span class="comment">//'abc';</span></span><br><span class="line"></span><br><span class="line">a[<span class="number">1.00</span>]=<span class="number">6</span>;</span><br><span class="line">a[<span class="number">1</span>];<span class="comment">//6</span></span><br></pre></td></tr></table></figure></p>
<p>上面代码表明，由于字符串“1000”和浮点数1.00都可以转换为整数，所以视同为整数键赋值。<br>上一节说过，对象有两种读取成员的方法：“点”结构（obj.key）,和方括号结构（obj[key]）。但是，对于数值的键名，不能使用点结构（因为很容易被认为成小数点）。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</span><br><span class="line"><span class="built_in">console</span>.log(arr<span class="number">.0</span>);<span class="comment">//报错</span></span><br></pre></td></tr></table></figure></p>
<p>上面的写法是不合法的，因为单独的数值不能作为标识符。所以，数组成员只能用方括号arr[0]表示。   </p>
<h2 id="三、length属性"><a href="#三、length属性" class="headerlink" title="三、length属性"></a>三、length属性</h2><p>数组的length属性，返回数组的成员数量。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="string">'a'</span>,<span class="string">'b'</span>,<span class="string">'c'</span>].length;<span class="comment">//3</span></span><br></pre></td></tr></table></figure></p>
<p>javascript使用一个32位整数，保存数组的元素个数。这意味着，数组成员最多只有2的32次方减1个，也就是说length属性的最大值就是4294967295。<br>只要是数组，就一定有length属性。该属性是一个动态的值，等于键名中最大整数加上1。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr[<span class="string">'a'</span>,<span class="string">'b'</span>];</span><br><span class="line"><span class="built_in">console</span>.log(arr.length);<span class="comment">//2</span></span><br><span class="line"></span><br><span class="line">arr[<span class="number">2</span>]=<span class="string">'c'</span>;</span><br><span class="line"><span class="built_in">console</span>.log(arr.length);<span class="comment">//3   </span></span><br><span class="line"></span><br><span class="line">arr[<span class="number">9</span>]=<span class="string">'d'</span>;</span><br><span class="line"><span class="built_in">console</span>.log(arr.length);<span class="comment">//10</span></span><br><span class="line"></span><br><span class="line">arr[<span class="number">1000</span>]=<span class="string">'e'</span>;</span><br><span class="line"><span class="built_in">console</span>.log(arr.length);<span class="comment">//1001</span></span><br></pre></td></tr></table></figure></p>
<p>这表明数组是一种动态的数据结构，可以随时增减数组的成员。<br>length属性是可写的。如果认为设置一个小于当前成员数的值，该数组的成员会自动减少到length设置的值。    </p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr=[<span class="string">'a'</span>,<span class="string">'b'</span>,<span class="string">'c'</span>];</span><br><span class="line"><span class="built_in">console</span>.log(arr.length);<span class="comment">//3</span></span><br><span class="line"></span><br><span class="line">arr.length=<span class="number">2</span>;</span><br><span class="line"><span class="built_in">console</span>.log(arr);<span class="comment">//['a','b']</span></span><br></pre></td></tr></table></figure>
<p>因此将数组清空的一个有效方法，就是将length属性设置为0。<br>如果人为设置length大于当前元素个数，则数组的成员数量会增加到这个值，新增的位置都是空位。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a=[<span class="string">'a'</span>];</span><br><span class="line"></span><br><span class="line">a.length=<span class="number">3</span>;</span><br><span class="line"><span class="built_in">console</span>.log(a[<span class="number">1</span>]);<span class="comment">//undefined</span></span><br></pre></td></tr></table></figure></p>
<p>上面代码表示，当length属性设置为大于数组个数时，读取新增的位置都会返回undefined。<br>如果认为设置的length为不合法的值，javascript会报错。   </p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//设置为负值</span></span><br><span class="line">[].length=<span class="number">-1</span>;<span class="comment">//Error</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//数组元素的个数大于等于2的32次方</span></span><br><span class="line">[].length=<span class="built_in">Math</span>.pow(<span class="number">2</span>,<span class="number">32</span>);<span class="comment">//Error</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//设置成字符串</span></span><br><span class="line">[].length=<span class="string">'abc'</span>;<span class="comment">//Error</span></span><br></pre></td></tr></table></figure>
<p>值得注意的是，由于数组本质是对象的一种，所以我们可以为数组添加属性，但是这不影响length属性的值。   </p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a=[];</span><br><span class="line">a[<span class="string">'p'</span>]=<span class="string">'abc'</span>;</span><br><span class="line">a.length;<span class="comment">//0</span></span><br><span class="line">a[<span class="number">2.1</span>]=<span class="string">'abc'</span>;</span><br><span class="line">a.length;<span class="comment">//0</span></span><br></pre></td></tr></table></figure>
<p>如果数组的键名是添加超出范围的数值，该键名会自动转为字符串。   </p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr=[];</span><br><span class="line">arr[<span class="number">-1</span>]=<span class="string">'a'</span>;</span><br><span class="line">arr[<span class="built_in">Math</span>.pow(<span class="number">2</span>,<span class="number">32</span>)]=<span class="string">'b'</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(arr.length);<span class="comment">//0;</span></span><br><span class="line">arr[<span class="number">-1</span>];<span class="comment">//'a'</span></span><br><span class="line">arr[<span class="number">4294967296</span>];<span class="comment">//'b'</span></span><br></pre></td></tr></table></figure>
<h2 id="四、类似数组的对象"><a href="#四、类似数组的对象" class="headerlink" title="四、类似数组的对象"></a>四、类似数组的对象</h2><p>如果一个对象的所有键名都是正整数或零，并且有length属性，那么这个对象就很像数组，语法称为：“类数组的对象”（array-like object）。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj=&#123;</span><br><span class="line">  <span class="number">0</span>:<span class="string">'a'</span>,</span><br><span class="line">  <span class="number">1</span>:<span class="string">'b'</span>,</span><br><span class="line">  <span class="number">2</span>:<span class="string">'c'</span></span><br><span class="line">  length:<span class="number">3</span></span><br><span class="line">&#125;</span><br><span class="line">obj[<span class="number">0</span>];<span class="comment">//'a'</span></span><br><span class="line">obj.length;<span class="comment">//3</span></span><br><span class="line">obj.push(<span class="string">'d'</span>);<span class="comment">//报错</span></span><br></pre></td></tr></table></figure></p>
<p>“类似数组的对象”并不是数组，它的本质特征，就是具有length属性。只要有length属性，就可以认为这个对象类似于数组。但是有一个问题，这种length属性不是动态值，不会随着成员的变化而变化。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj=&#123;</span><br><span class="line">    length:<span class="number">0</span></span><br><span class="line">&#125;;</span><br><span class="line">obj[<span class="number">3</span>]=<span class="string">'d'</span>;</span><br><span class="line">obj.length;<span class="comment">//0</span></span><br></pre></td></tr></table></figure></p>
<p>典型的“类似数组的对象”是函数arguments对象，以及大多数DOM元素，还有字符串。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//arguments对象</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">args</span>(<span class="params"></span>)</span>&#123;<span class="keyword">return</span> <span class="built_in">arguments</span>&#125;</span><br><span class="line"><span class="keyword">var</span> arrayLike=args(<span class="string">'a'</span>,<span class="string">'b'</span>);</span><br><span class="line">arrayLike[<span class="number">0</span>];<span class="comment">//'a'</span></span><br><span class="line">arrayLike.length;<span class="comment">//2</span></span><br><span class="line">arrayLike <span class="keyword">instanceof</span> <span class="built_in">Array</span>;<span class="comment">//false</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//DOM元素集合</span></span><br><span class="line"><span class="keyword">var</span> elts=<span class="built_in">document</span>.getElementByTagNames(<span class="string">'h3'</span>);</span><br><span class="line">elts.length;<span class="comment">//3</span></span><br><span class="line">elts <span class="keyword">instanceof</span> <span class="built_in">Array</span>;<span class="comment">//false</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//字符串</span></span><br><span class="line"><span class="keyword">var</span> s=<span class="string">'abc'</span>;</span><br><span class="line">s[<span class="number">1</span>];<span class="comment">//'b'</span></span><br><span class="line">s.length;<span class="comment">//3</span></span><br><span class="line">s <span class="keyword">instanceof</span> <span class="built_in">Array</span>;<span class="comment">//false</span></span><br></pre></td></tr></table></figure></p>
<p>数组的slice方法可以将“类似数组的对象”变成真正的数组。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr=<span class="built_in">Array</span>.prototype.slice.call(arrayLike);</span><br></pre></td></tr></table></figure></p>
<p>处理转为真正的数组，“类似数组的对象”还有一个方法可以使用数组的方法，就是通过call()方法把数组的方法放到对象上面。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">print</span>(<span class="params">value,index</span>)</span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(index+<span class="string">':'</span>+value);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">Array</span>.prototype..forEach.call(arrayLike,print);</span><br><span class="line"></span><br><span class="line"><span class="comment">//arguments使用</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">logArgs</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="built_in">Array</span>.prototype.forEach.call(<span class="built_in">arguments</span>,<span class="function"><span class="keyword">function</span>(<span class="params">elem,i</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(i+<span class="string">'.'</span>+elem);</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="五、in运算符"><a href="#五、in运算符" class="headerlink" title="五、in运算符"></a>五、in运算符</h2><p>in运算符是检查某个键名是否存在，该运算符适用于对象，也适用于数组。   </p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr=[<span class="string">'a'</span>,<span class="string">'b'</span>,<span class="string">'c'</span>];</span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">2</span> <span class="keyword">in</span> arr);<span class="comment">//true</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'2'</span> <span class="keyword">in</span> arr);<span class="comment">//true</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">4</span> <span class="keyword">in</span> arr);<span class="comment">//false</span></span><br></pre></td></tr></table></figure>
<p>==注意==：如果数组的某个位置是空位，in运算符返回false。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr=[];</span><br><span class="line">arr[<span class="number">100</span>]=<span class="string">'a'</span>;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">100</span> <span class="keyword">in</span> arr);<span class="comment">//true</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">1</span> <span class="keyword">in</span> arr);<span class="comment">//false</span></span><br></pre></td></tr></table></figure></p>
<h2 id="六、for…in循环和数组的遍历。"><a href="#六、for…in循环和数组的遍历。" class="headerlink" title="六、for…in循环和数组的遍历。"></a>六、for…in循环和数组的遍历。</h2><p>for…in循环不仅可以遍历对象还可以遍历数组。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i <span class="keyword">in</span> a) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(a[i]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 1</span></span><br><span class="line"><span class="comment">// 2</span></span><br><span class="line"><span class="comment">// 3</span></span><br></pre></td></tr></table></figure></p>
<p>但是for..in循环不仅会遍历数组的数字键还会遍历数组的非数字键<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line">a.foo = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> key <span class="keyword">in</span> a) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(key);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 0</span></span><br><span class="line"><span class="comment">// 1</span></span><br><span class="line"><span class="comment">// 2</span></span><br><span class="line"><span class="comment">// foo</span></span><br></pre></td></tr></table></figure></p>
<p>上面代码在遍历数组时，也遍历到了非整数键foo。所以，不推荐使用for…in遍历数组。<br>数组的遍历可以考虑使用for循环或while循环。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">// for循环</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; a.length; i++) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(a[i]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// while循环</span></span><br><span class="line"><span class="keyword">var</span> i = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">while</span> (i &lt; a.length) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(a[i]);</span><br><span class="line">  i++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> l = a.length;</span><br><span class="line"><span class="keyword">while</span> (l--) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(a[l]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>上面代码是三种遍历数组的写法。最后一种写法是逆向遍历，即从最后一个元素向第一个元素遍历。    </p>
<p>数组的forEach方法也可以用来遍历数组。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> colors=[<span class="string">'red'</span>,<span class="string">'green'</span>,<span class="string">'blue'</span>];</span><br><span class="line">colors.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">color</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(color);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p>
<h2 id="七、数组的空位"><a href="#七、数组的空位" class="headerlink" title="七、数组的空位"></a>七、数组的空位</h2><p>当数组的某个位置是空元素，即两个逗号之间没有任何值，我们称该数值存在空位。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a=[<span class="number">1</span>,,<span class="number">1</span>];</span><br><span class="line">a.length;<span class="comment">//3</span></span><br></pre></td></tr></table></figure></p>
<p>上面代码表明，数组的空位不影响length属性。<br>需要注意的是，如果最后一个元素后面有逗号，并不会产生空位。也就是说，有没有这个逗号，结果都是一样的。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,];</span><br><span class="line"><span class="built_in">console</span>.log(a.length);<span class="comment">//3</span></span><br><span class="line">a;<span class="comment">//[1,2,3]</span></span><br></pre></td></tr></table></figure></p>
<p>数组的空位是可以读取的，返回undefined。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a=[,,,];</span><br><span class="line"><span class="built_in">console</span>.log(a.length);<span class="comment">//3</span></span><br><span class="line"><span class="built_in">console</span>.log(a[<span class="number">1</span>]);<span class="comment">//undefined</span></span><br></pre></td></tr></table></figure></p>
<p>使用delete命令删除一个数组成员，会形成空位，并且不会影响length属性。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</span><br><span class="line"><span class="keyword">delete</span> a[<span class="number">1</span>];</span><br><span class="line"><span class="built_in">console</span>.log(a[<span class="number">1</span>]);<span class="comment">//undefiend</span></span><br><span class="line"><span class="built_in">console</span>.log(a.length);<span class="comment">//3</span></span><br></pre></td></tr></table></figure></p>
<p>上面代码用delete命令删除了数组的第二个元素，这个位置就形成了空位，但是对length属性没有影响。也就是说，length属性不过滤空位。所以，使用length属性进行数组遍历，一定要非常小心。<br>数组的某个位置是空位，与某个位置是undefined，是不一样的，如果是空位，使用数组的forEach方法，for…in结构，以及Object.keys方法进行遍历，空位都会被跳过。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a=[,,,];</span><br><span class="line">a.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">x,i</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(i+<span class="string">':'</span>+x);</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">//没有任何输出</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i <span class="keyword">in</span> a)&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(i);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//没有任何输出</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">Object</span>.keys(a);</span><br><span class="line"><span class="comment">//[]</span></span><br></pre></td></tr></table></figure></p>
<h2 id="如果某个位置是undefined，遍历的时候就不会跳过。也就是说，空位是数组没有这个元素，所以不会被遍历到，而undefined则表示数组有这个元素，值是undefined，所以遍历不会跳过。"><a href="#如果某个位置是undefined，遍历的时候就不会跳过。也就是说，空位是数组没有这个元素，所以不会被遍历到，而undefined则表示数组有这个元素，值是undefined，所以遍历不会跳过。" class="headerlink" title="如果某个位置是undefined，遍历的时候就不会跳过。也就是说，空位是数组没有这个元素，所以不会被遍历到，而undefined则表示数组有这个元素，值是undefined，所以遍历不会跳过。    "></a>如果某个位置是undefined，遍历的时候就不会跳过。也就是说，空位是数组没有这个元素，所以不会被遍历到，而undefined则表示数组有这个元素，值是undefined，所以遍历不会跳过。    </h2><h1 id="标准库—–Array对象"><a href="#标准库—–Array对象" class="headerlink" title="标准库—–Array对象"></a>标准库—–Array对象</h1><h2 id="一、构造函数"><a href="#一、构造函数" class="headerlink" title="一、构造函数"></a>一、构造函数</h2><p>Array是javascript的内置对象，同时也是一个构造函数，它可以生成新的数组。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr=<span class="keyword">new</span> <span class="built_in">Array</span>(<span class="number">2</span>);</span><br><span class="line"><span class="built_in">console</span>.log(arr.length);<span class="regexp">/2</span></span><br><span class="line"><span class="regexp">console.log(arr);/</span><span class="regexp">/[undefined,undefined]</span></span><br></pre></td></tr></table></figure></p>
<p>如果没有new关键字，运算结果也是一样<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr=<span class="keyword">new</span> <span class="built_in">Array</span>(<span class="number">2</span>);</span><br><span class="line"><span class="comment">//等同于</span></span><br><span class="line"><span class="keyword">var</span> arr=<span class="built_in">Array</span>(<span class="number">2</span>);</span><br></pre></td></tr></table></figure></p>
<p>Array构造函数有一个很大的问题，就是不同的参数，会导致它的行为不一致。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//无参数时，返回一个空数组</span></span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Array</span>();<span class="comment">//[]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//单个正整数参数，表示返回的新数组的长度</span></span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Array</span>(<span class="number">1</span>);<span class="comment">//[undefined]</span></span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Array</span>(<span class="number">2</span>);<span class="comment">//[undefined,undefined]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//非正整数的数值作为参数，会报错</span></span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Array</span>(<span class="number">3.2</span>);<span class="comment">//ERROR</span></span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Array</span>(<span class="number">-3</span>);<span class="comment">//ERROR</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//单个数值参数（比如字符串，布尔值，对象等）</span></span><br><span class="line"><span class="comment">//则该参数是返回的新数组的成员</span></span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Array</span>(<span class="string">'abc'</span>);<span class="comment">//['abc']</span></span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Array</span>([<span class="number">1</span>]);<span class="comment">//[Array[1]]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//多个参数时，所有参数都是返回的新数组的成员</span></span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Array</span>(<span class="number">1</span>,<span class="number">2</span>);<span class="comment">//[1,2]</span></span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Array</span>(<span class="string">'a'</span>,<span class="string">'b'</span>,<span class="string">'c'</span>);<span class="comment">//['a','b','c']</span></span><br></pre></td></tr></table></figure></p>
<p>从上面代码中可以看出，Array作为构造函数，行为很不一致。因此，不建议使用它生成新数组，直接使用数组字面量是更好的做法。   </p>
<p>==注意==：如果参数是一个正整数，返回数组的成员都是空位。虽然读取的时候返回undefined，但实际上该位置没有任何值。虽然可以取到length属性，但是取不到键名。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr=<span class="keyword">new</span> <span class="built_in">Array</span>(<span class="number">3</span>);</span><br><span class="line"><span class="built_in">console</span>.log(arr.length);<span class="comment">//3</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(arr[<span class="number">0</span>]);<span class="comment">//undefined</span></span><br><span class="line"><span class="built_in">console</span>.log(arr[<span class="number">1</span>]);<span class="comment">//undefined</span></span><br><span class="line"><span class="built_in">console</span>.log(arr[<span class="number">2</span>]);<span class="comment">//undefined</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">0</span> <span class="keyword">in</span> arr);<span class="comment">//false</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">1</span> <span class="keyword">in</span> arr);<span class="comment">//false</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">2</span> <span class="keyword">in</span> arr);<span class="comment">//false</span></span><br></pre></td></tr></table></figure></p>
<p>上面代码中，arr是一个长度为3的空数组。虽然可以取到每个位置的键值undefined，但是所有的键名都去不到。    </p>
<h2 id="二、Array-isArray"><a href="#二、Array-isArray" class="headerlink" title="二、Array.isArray()"></a>二、Array.isArray()</h2><p>Array.isArray()方法用来判断一个值是否为数组，它可以用啦弥补typeof运算符的不足。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>];</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> a);<span class="comment">//'object'</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Array</span>.isArray(a));<span class="comment">//true</span></span><br></pre></td></tr></table></figure></p>
<p>上面代码中，typeof运算符只能显示数组的类型是Object，而Array.isArray方法可以对数组返回true。<br>该方法实现的原理：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> isArray=<span class="function"><span class="keyword">function</span>(<span class="params">value</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">Object</span>.prototype.toString.call(value);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="三、Array实例方法"><a href="#三、Array实例方法" class="headerlink" title="三、Array实例方法"></a>三、Array实例方法</h2><h3 id="1-valueOf-toString"><a href="#1-valueOf-toString" class="headerlink" title="1.valueOf(),toString()"></a>1.valueOf(),toString()</h3><p>valueOf()方法返回数组本身。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</span><br><span class="line">a.valueOf();<span class="comment">//[1,2,3]</span></span><br></pre></td></tr></table></figure></p>
<p>toString()方法返回数组的字符串形式。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</span><br><span class="line">a.toString();<span class="comment">//1,2,3</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> a=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,[<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]];</span><br><span class="line">a.toString();<span class="comment">//'1,2,3,4,5,6,'</span></span><br></pre></td></tr></table></figure></p>
<h3 id="2-push"><a href="#2-push" class="headerlink" title="2. push()"></a>2. push()</h3><p>push()方法用于在数组的末端添加一个或者多个元素，并返回添加新元素后的数组长度。注意，该方法会改变原数组。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a=[];</span><br><span class="line">a.push(<span class="number">1</span>);<span class="comment">//1</span></span><br><span class="line">a.push(<span class="string">'a'</span>);<span class="comment">//2</span></span><br><span class="line">a.push(<span class="literal">true</span>,&#123;&#125;);<span class="comment">//4</span></span><br><span class="line"><span class="built_in">console</span>.log(a);<span class="comment">//[1,'a',true,&#123;&#125;]</span></span><br></pre></td></tr></table></figure></p>
<p>如果需要合并两个数组，可以这样写。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</span><br><span class="line"><span class="keyword">var</span> b=[<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>];</span><br><span class="line"><span class="built_in">Array</span>.prototype.push.apply(a,b);</span><br><span class="line"><span class="comment">//或者</span></span><br><span class="line">a.push.apply(a,b);</span><br><span class="line"><span class="comment">//上面两种写法等同于</span></span><br><span class="line">a.push(<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(a);<span class="comment">//[1,2,3,4,5,6]</span></span><br></pre></td></tr></table></figure></p>
<p>push方法可以用于向对象添加元素，添加后的对象变成类似数组的对象，即新加入元素的键对应数组的索引，并且对象有一个length属性。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a=&#123;<span class="attr">a</span>:<span class="number">1</span>&#125;;</span><br><span class="line">[].push.call(a,[<span class="number">3</span>]);</span><br><span class="line"><span class="built_in">console</span>.log(a);<span class="comment">//&#123;a:1,0:2,1:[3],length:2&#125;</span></span><br></pre></td></tr></table></figure></p>
<h3 id="3-pop"><a href="#3-pop" class="headerlink" title="3.pop()"></a>3.pop()</h3><p>pop方法用于删除数组的最后一个元素，并返回该元素。注意，该方法会改变原数组。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a=[<span class="string">'a'</span>,<span class="string">'b'</span>,<span class="string">'c'</span>];</span><br><span class="line">a.pop();<span class="comment">//'c'</span></span><br><span class="line"><span class="built_in">console</span>.log(a);<span class="comment">//['a','b']</span></span><br></pre></td></tr></table></figure></p>
<p>对空数组使用pop方法，不会报错，而是返回undefined。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[].pop();<span class="comment">//undefined</span></span><br></pre></td></tr></table></figure></p>
<p>push和pop结合和使用，就构成了“后进先出”的栈结构(stack)。    </p>
<h3 id="4-join"><a href="#4-join" class="headerlink" title="4.join()"></a>4.join()</h3><p>join方法以参数作为分隔符，将所有数组组成一个字符串返回。如果不提供参数，默认用逗号分隔。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>];</span><br><span class="line">a.join(<span class="string">' '</span>);<span class="comment">//'1 2 3 4'</span></span><br><span class="line">a.join(<span class="string">'|'</span>);<span class="regexp">/'1|2|3|4'</span></span><br><span class="line"><span class="regexp">a.join();/</span><span class="regexp">/'123'</span></span><br></pre></td></tr></table></figure></p>
<p>如果数组成员是undefined或null或空位，会被转成空字符。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[<span class="literal">undefined</span>,<span class="literal">null</span>].join(<span class="string">'#'</span>);</span><br><span class="line"><span class="comment">//#</span></span><br><span class="line">[<span class="string">'a'</span>,,<span class="string">'b'</span>].join(<span class="string">'-'</span>);</span><br><span class="line"><span class="comment">//'a-b'</span></span><br></pre></td></tr></table></figure></p>
<p>通过call方法，这个方法也可以用于字符串。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.prototype.join.call(<span class="string">'hello'</span>,<span class="string">'-'</span>);</span><br><span class="line"><span class="comment">//'h-e-l-l-o'</span></span><br></pre></td></tr></table></figure></p>
<p>join方法也可以用于类似数组的对象。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj=&#123;<span class="number">0</span>:<span class="string">'a'</span>,<span class="number">1</span>:<span class="string">'b'</span>,<span class="attr">length</span>:<span class="number">2</span>&#125;;</span><br><span class="line"><span class="built_in">Array</span>.prototype.join.call(obj,<span class="string">'-'</span>);</span><br></pre></td></tr></table></figure></p>
<h3 id="5-concat"><a href="#5-concat" class="headerlink" title="5.concat()"></a>5.concat()</h3><p>concat方法用于多个数组的合并。它将新数组的成员，添加到原数组成员的后部，然后返回一个新数组，原数组不变。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[<span class="string">'hello'</span>].concat([<span class="string">'world'</span>])</span><br><span class="line"><span class="comment">//['hello','world']</span></span><br><span class="line">[<span class="string">'hello'</span>].concat([<span class="string">'world'</span>],[<span class="string">'!'</span>])</span><br><span class="line"><span class="comment">//['hello','world','!']</span></span><br></pre></td></tr></table></figure></p>
<p>除了接受数组作为参数，concat也可以接收其他类型的值作为参数。它会作为新的元素，添加数组尾部。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>].concat(<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>);</span><br><span class="line"><span class="comment">//[1,2,3,4,5,6]</span></span><br><span class="line"><span class="comment">//等同于</span></span><br><span class="line">[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>].concat(<span class="number">4</span>,[<span class="number">5</span>,<span class="number">6</span>])</span><br><span class="line">[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>].concat([<span class="number">4</span>],[<span class="number">5</span>,<span class="number">6</span>])</span><br></pre></td></tr></table></figure></p>
<p>如果不提供参数，concat方法返回当前数组的一个浅拷贝。所谓“浅拷贝”，指的是如果数组成员包括复合类型的值（比如对象），则新数组拷贝是该值的引用。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj=&#123;<span class="attr">a</span>:<span class="number">1</span>&#125;;</span><br><span class="line"><span class="keyword">var</span> oldArray=[obj];</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> newArray=oldArray.concat();</span><br><span class="line"></span><br><span class="line">obj.a=<span class="number">2</span>;</span><br><span class="line">newArray[<span class="number">0</span>].a;<span class="comment">//2</span></span><br></pre></td></tr></table></figure></p>
<p>上面代码中，原数组包含一个对象，concat方法生成的新数组包含这个对象的引用。所以，改变原对象以后，新数组跟着改变。事实上，只有原数组的成员中包含对象，concat方法不管有没有参数总是返回该对象的引用。<br>concat方法也可以将对象合并为数组。   </p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[].concat(&#123;<span class="attr">a</span>:<span class="number">1</span>&#125;,&#123;<span class="attr">b</span>:<span class="number">2</span>&#125;)</span><br><span class="line"><span class="comment">//[&#123;a:1&#125;,&#123;b:2&#125;]</span></span><br><span class="line"></span><br><span class="line">[].concat(&#123;<span class="attr">a</span>:<span class="number">1</span>&#125;,&#123;<span class="number">2</span>&#125;)</span><br><span class="line"><span class="comment">//[&#123;a:1&#125;,2]</span></span><br><span class="line">[<span class="number">2</span>].concat(&#123;<span class="attr">a</span>:<span class="number">1</span>&#125;)</span><br><span class="line"><span class="comment">//[2,&#123;a:1&#125;]</span></span><br></pre></td></tr></table></figure>
<h3 id="6-shift"><a href="#6-shift" class="headerlink" title="6.shift()"></a>6.shift()</h3><p>shift方法用于删除数组的第一个元素，并返回该元素。注意，该方法会改变原数组。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a=[<span class="string">'a'</span>,<span class="string">'b'</span>,<span class="string">'c'</span>];</span><br><span class="line">a.shift();<span class="comment">//'a'</span></span><br><span class="line"><span class="built_in">console</span>.log(a);<span class="comment">//['b','c']</span></span><br></pre></td></tr></table></figure></p>
<p>shift方法可以遍历并清空一个数组。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> list=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>];</span><br><span class="line"><span class="keyword">var</span> item;</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span>(item=list.shift())&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(item);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(list);<span class="comment">//[]</span></span><br></pre></td></tr></table></figure></p>
<p>push和shift方法结合使用，就构成了“先进先出”的队列结构（queue）。   </p>
<h3 id="7-unshift"><a href="#7-unshift" class="headerlink" title="7.unshift()"></a>7.unshift()</h3><p>unshift方法用于在数组的第一个位置添加元素，并返回添加新元素后的数组长度。注意，该方法会改变原数组。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a=[<span class="string">'a'</span>,<span class="string">'b'</span>,<span class="string">'c'</span>];</span><br><span class="line">a.unshift(<span class="string">'x'</span>);<span class="comment">//4</span></span><br><span class="line"><span class="built_in">console</span>.log(a);<span class="comment">//['x','a','b','c']</span></span><br></pre></td></tr></table></figure></p>
<p>unshift方法可以在数组头部添加多个元素。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr=[<span class="string">'c'</span>,<span class="string">'d'</span>];</span><br><span class="line">arr.unshift(<span class="string">'a'</span>,<span class="string">'b'</span>);<span class="comment">//4</span></span><br><span class="line"><span class="built_in">console</span>.log(arr);<span class="comment">//['a','b','c','d']</span></span><br></pre></td></tr></table></figure></p>
<h3 id="8-reverse"><a href="#8-reverse" class="headerlink" title="8.reverse()"></a>8.reverse()</h3><p>reverse方法用于颠倒数组中元素的顺序，返回改变后的数组。注意，该方法将改变原数组。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a=[<span class="string">'a'</span>,<span class="string">'b'</span>,<span class="string">'c'</span>];</span><br><span class="line">a.reverse();<span class="comment">//['c','b','a']</span></span><br><span class="line"><span class="built_in">console</span>.log(a);<span class="comment">//['c','b','a']</span></span><br></pre></td></tr></table></figure></p>
<h3 id="9-slice"><a href="#9-slice" class="headerlink" title="9.slice()"></a>9.slice()</h3><p>slice方法用于提取原数组的一部分，返回一个新数组，原数组不变。<br>它的第一个参数为起始位置（从0开始），第二个参数为终止位置（但该位置的元素本身不包括在内）。如果省略参数第二个参数，则一直返回到原数组的最后一个成员。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//格式</span></span><br><span class="line">arr.slice(start_index,upto_index);</span><br><span class="line"><span class="comment">//用法</span></span><br><span class="line"><span class="keyword">var</span> a=[<span class="string">'a'</span>,<span class="string">'b'</span>,<span class="string">'c'</span>];</span><br><span class="line">a.slice(<span class="number">0</span>);<span class="comment">//['a','b','c']</span></span><br><span class="line">a.slice(<span class="number">1</span>);<span class="comment">//['b','c']</span></span><br><span class="line">a.slice(<span class="number">1</span>,<span class="number">2</span>);<span class="comment">//['b']</span></span><br><span class="line">a.slice(<span class="number">2</span>,<span class="number">6</span>);<span class="comment">//['c']</span></span><br><span class="line">a.slice();<span class="comment">//['a','b','c']</span></span><br></pre></td></tr></table></figure></p>
<p>上面代码中，最后一个例子slice没有参数，实际上等于返回一个原数组的拷贝。如果slice方法的参数是负数，则表示倒数计算的位置。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a=[<span class="string">'a'</span>,<span class="string">'b'</span>,<span class="string">'c'</span>];</span><br><span class="line">a.slice(<span class="number">-2</span>);<span class="comment">//['b','c']</span></span><br><span class="line">a.slice(<span class="number">-2</span>,<span class="number">-1</span>);<span class="comment">//[b]</span></span><br></pre></td></tr></table></figure></p>
<p>上面代码中，-2表示倒数计算的第二个位置，-1表示倒数计算的第一个位置。<br>如果参数大于数组成员的个数，或者第二个参数小于第一个参数，则返回空数组。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a=[<span class="string">'a'</span>,<span class="string">'b'</span>,<span class="string">'c'</span>];</span><br><span class="line">a.slice(<span class="number">4</span>);<span class="comment">//[]</span></span><br><span class="line">a.slice(<span class="number">2</span>,<span class="number">1</span>);<span class="comment">//[]</span></span><br></pre></td></tr></table></figure></p>
<p>slice方法的一个重要应用，是将类似数组的对象转为真正的数组。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.prototype.slice.call(&#123;<span class="number">0</span>:<span class="string">'a'</span>,<span class="number">1</span>:<span class="string">'b'</span>,<span class="attr">length</span>:<span class="number">2</span>&#125;);</span><br><span class="line"><span class="comment">//['a','b']</span></span><br><span class="line"><span class="built_in">Array</span>.prototype.slice.call(<span class="built_in">document</span>.querySelectorAll(<span class="string">'div'</span>));</span><br><span class="line"><span class="built_in">Array</span>.prototype.slice.call(<span class="built_in">arguments</span>);</span><br></pre></td></tr></table></figure></p>
<p>上面代码的参数都不是数组，但是通过call方法，在它们上面调用slice方法，就可以把他们转为真正的数组。   </p>
<h3 id="10-splice"><a href="#10-splice" class="headerlink" title="10.splice()"></a>10.splice()</h3><p>splice方法用于删除原数组的一部分成员，并可以在被删除的位置添加入新的数组成员，返回值是被删除的元素。<br>==注意==：该方法会改变原数组。splice的第一个参数是删除的起始位置，第二个参数是被删除的元素个数。如果后面还有更多的参数，则表示这些就是要被插入数组的新元素。     </p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//格式</span></span><br><span class="line">arr.splice(index,count_to_remove,addElement1,addElement2,...);</span><br><span class="line"><span class="comment">//用法</span></span><br><span class="line"><span class="keyword">var</span> a=[<span class="string">'a'</span>,<span class="string">'b'</span>,<span class="string">'c'</span>,<span class="string">'d'</span>,<span class="string">'e'</span>,<span class="string">'f'</span>];</span><br><span class="line">a.splice(<span class="number">4</span>,<span class="number">2</span>);<span class="comment">//['e','f']</span></span><br><span class="line"><span class="built_in">console</span>.log(a);<span class="comment">//['a','b','c','d']</span></span><br></pre></td></tr></table></figure>
<p>上面代码从原数组4号位置，删除了两个数组成员。    </p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a=[<span class="string">'a'</span>,<span class="string">'b'</span>,<span class="string">'c'</span>,<span class="string">'d'</span>,<span class="string">'e'</span>,<span class="string">'f'</span>];</span><br><span class="line"><span class="built_in">console</span>.log(a.splice(<span class="number">4</span>,<span class="number">2</span>,<span class="number">1</span>,<span class="number">2</span>));<span class="comment">//['e','f']</span></span><br><span class="line"><span class="built_in">console</span>.log(a);<span class="comment">//['a','b','c','d','1','2']</span></span><br></pre></td></tr></table></figure>
<p>上面代码除了删除成员，还插入了新的成员。    </p>
<p>起始位置如果是负数，就表示从倒数位置开始删除。    </p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a=[<span class="string">'a'</span>,<span class="string">'b'</span>,<span class="string">'c'</span>,<span class="string">'d'</span>,<span class="string">'e'</span>,<span class="string">'f'</span>]</span><br><span class="line">a.splice(<span class="number">-4</span>,<span class="number">2</span>);<span class="comment">//['c','d']</span></span><br></pre></td></tr></table></figure>
<p>上面代码表示，从倒数第四个位置c开始删除两个成员。<br>如果只是单纯地插入元素，splice方法的第二个参数可以设为0。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a=[<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>];</span><br><span class="line"></span><br><span class="line">a.splice(<span class="number">1</span>,<span class="number">0</span>,<span class="number">2</span>);<span class="comment">//[]</span></span><br><span class="line"><span class="built_in">console</span>.log(a);<span class="comment">//[1,2,1,1]</span></span><br></pre></td></tr></table></figure></p>
<p>如果只是提供第一个参数，等同于将原数组在指定位置拆分成两个数组。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>];</span><br><span class="line">a.splice(<span class="number">2</span>);<span class="comment">//[3,4]</span></span><br><span class="line"><span class="built_in">console</span>.log(a);<span class="comment">//[1,2]</span></span><br></pre></td></tr></table></figure></p>
<h3 id="11-sort"><a href="#11-sort" class="headerlink" title="11.sort()"></a>11.sort()</h3><p>sort方法对数组成员进行安排，默认是按照字典顺序排序。排序后，原数组将被改变。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[<span class="string">'d'</span>,<span class="string">'c'</span>,<span class="string">'b'</span>,<span class="string">'a'</span>].sort();</span><br><span class="line"><span class="comment">//['a','b','c','d']</span></span><br><span class="line">[<span class="number">4</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="number">1</span>].sort();</span><br><span class="line"><span class="comment">//[1,2,3,4]</span></span><br><span class="line"></span><br><span class="line">[<span class="number">11</span>,<span class="number">101</span>].sort();</span><br><span class="line"><span class="comment">//[101,11]</span></span><br><span class="line">[<span class="number">10111</span>,<span class="number">1101</span>,<span class="number">111</span>].sort();</span><br><span class="line"><span class="comment">//[10111,1101,111]</span></span><br></pre></td></tr></table></figure></p>
<p>上面代码的最后两个例子，需要特别注意。sort方法不是按照大小顺序，而是按照对应字符串。也就是说，数值会被先转为字符串，再按照字典顺序进行比较，所以101排在11的前面。<br>如果想让sort方法按照自定义方式排序，可以传入一个函数作为参数，表示按照自定义方法进行排序。该函数本身又接受两个参数，表示进行比较的两个元素。如果返回值大于0，表示第一个元素排在第二个参数后面；其他情况下都是第一个参数排在第二个参数的前面。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">[<span class="number">101111</span>,<span class="number">1101</span>,<span class="number">111</span>].sort(<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">return</span> a-b;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">//[111,1101,10111]</span></span><br><span class="line"></span><br><span class="line">[</span><br><span class="line">    &#123;<span class="attr">name</span>:<span class="string">'张三'</span>,<span class="attr">age</span>:<span class="number">30</span>&#125;,</span><br><span class="line">    &#123;<span class="attr">name</span>:<span class="string">'李四'</span>,<span class="attr">age</span>:<span class="number">24</span>&#125;,</span><br><span class="line">    &#123;<span class="attr">name</span>:<span class="string">'王五'</span>,<span class="attr">age</span>:<span class="number">28</span>&#125;</span><br><span class="line">].sort(<span class="function"><span class="keyword">function</span>(<span class="params">o1,o2</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> o1.age-o2.age;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    [</span></span><br><span class="line"><span class="comment">        &#123;name:'李四',age:24&#125;,</span></span><br><span class="line"><span class="comment">        &#123;name:'王五',age:28&#125;,</span></span><br><span class="line"><span class="comment">        &#123;name:'张三',age:30&#125;</span></span><br><span class="line"><span class="comment">    ]</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure></p>
<h3 id="12-map"><a href="#12-map" class="headerlink" title="12.map()"></a>12.map()</h3><p>map方法对数组的所有成员依次调用一个函数，根据函数结果返回一个新的数组，原数组不变。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> numbers=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</span><br><span class="line">numbers.map(<span class="function"><span class="keyword">function</span>(<span class="params">n</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">return</span> n+<span class="number">1</span>;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">//[2,3,4]</span></span><br><span class="line"><span class="built_in">console</span>.log(numbers);<span class="comment">//[1,2,3]</span></span><br></pre></td></tr></table></figure></p>
<p>上面代码中，numbers是数组的所有成员都加上1，组成一个新数组返回，原数组没有变化。<br>map方法接受一个函数作为参数。该函数调用时，map方法会将其传入三个参数，分别是当前成员，当前位置和数组本身。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>].map(<span class="function"><span class="keyword">function</span>(<span class="params">elem,index,arr</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">return</span> elem*index;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">//[0,2,6]</span></span><br></pre></td></tr></table></figure></p>
<p>map方法不仅可以用于数组，还可以用于字符串，用来遍历字符串的每个字符。但是，不能直接使用，而是通过数组的call方法间接使用，或者先将字符串转为数组，然后使用。     </p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> upper=<span class="function"><span class="keyword">function</span>(<span class="params">x</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">return</span> x.toUpperCase();</span><br><span class="line">&#125;</span><br><span class="line">[].map.call(<span class="string">'abc'</span>,upper)</span><br><span class="line"><span class="comment">//['A','B','C']</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//或者</span></span><br><span class="line"><span class="string">'abc'</span>.split(<span class="string">''</span>).map(upper)</span><br><span class="line"><span class="comment">//['A','B','C']</span></span><br></pre></td></tr></table></figure>
<p>其他类似数组的对象（比如document.querySelectorAll）方法返回DOM节点集合，也可以用上面的方法遍历。<br>map方法还可以接受第二个参数，表示回调函数执行时this所指向的对象。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr=[<span class="string">'a'</span>,<span class="string">'b'</span>,<span class="string">'c'</span>];</span><br><span class="line">[<span class="number">1</span>,<span class="number">2</span>].map(<span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">this</span>[e];</span><br><span class="line">&#125;,arr);</span><br><span class="line"><span class="comment">//['b','c']</span></span><br></pre></td></tr></table></figure></p>
<p>上面代码通过map方法的第二个参数，将回调函数内部的this对象，指向arr数组。<br>如果数组有空位，map方法的回调函数在这个位置不会执行，会跳过数组的空位。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> f=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="keyword">return</span> n+<span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line">[<span class="number">1</span>,<span class="literal">undefined</span>,<span class="number">2</span>].map(f);<span class="comment">//[2,NaN,3]</span></span><br><span class="line">[<span class="number">1</span>,<span class="literal">null</span>,<span class="number">2</span>].map(f);<span class="comment">//[2,1,3]</span></span><br><span class="line">[<span class="number">1</span>,,<span class="number">2</span>].map(f);<span class="comment">//[2,,3]</span></span><br></pre></td></tr></table></figure></p>
<p>上面代码中，map方法不会跳过undefined和null，但是会跳过空位。下面的例子会清楚的说明这一点。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>(<span class="number">2</span>).map(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'enter...'</span>);</span><br><span class="line">  <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">//[,,]</span></span><br></pre></td></tr></table></figure></p>
<p>上面的代码中，map方法根本没有执行，直接返回了Array(2)生成的空数组。    </p>
<h3 id="13-forEach"><a href="#13-forEach" class="headerlink" title="13. forEach()"></a>13. forEach()</h3><p>forEach方法与map方法很相似，也是遍历数组的所有成员，执行某操作，但是forEach方法一般不返回值，只用来操作数据。如果需要有返回值，一般使用map方法。<br>forEsch方法的参数与map方法一致，也是一个函数数组的所有成员会依次执行该函数。它接受三个参数，分别是当前位置的值，当前位置的编号和整个数组。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">log</span>(<span class="params">elem,index,array</span>)</span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'['</span>+index+<span class="string">']='</span>+element);</span><br><span class="line">&#125;</span><br><span class="line">[<span class="number">2</span>,<span class="number">5</span>,<span class="number">9</span>].forEach(log);</span><br></pre></td></tr></table></figure></p>
<p>上面代码中，forEach遍历不是为了得到返回值，而是为了在屏幕输出内容，所以应该使用forEach方法，而不是map方法，虽然后者也可以实现同样的目的。<br>forEach方法也可以接受第二个参数，用来绑定回调函数的this关键字。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> out=[];</span><br><span class="line">[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>].forEach(<span class="function"><span class="keyword">function</span>(<span class="params">elem</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.push(elem*elem);</span><br><span class="line">&#125;,out);</span><br><span class="line"><span class="built_in">console</span>.log(out);<span class="comment">//[1,4,9]</span></span><br></pre></td></tr></table></figure></p>
<p>上面代码中，空数组out是forEach方法的第二个参数，结果，回调函数内部的this关键字就指向out。这个参数对于多层this非常有用，因为多层this通常指向是不一致的。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj=&#123;</span><br><span class="line">  name:<span class="string">'张三'</span>,</span><br><span class="line">  thimes:[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],</span><br><span class="line">  print:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.thimes.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">n</span>)</span>&#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">obj.print();</span><br><span class="line"><span class="comment">//没有任何输出</span></span><br></pre></td></tr></table></figure></p>
<p>上面代码中，obj.print()方法有两层this，它们的指向是不一致的，外层的this.times指向obj对象，内层的this.name指向顶层对象window。这显然是违背原意的，解决方法就是使用forEach方法的第二个参数固定this。    </p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj=&#123;</span><br><span class="line">  name:<span class="string">'张三'</span>,</span><br><span class="line">  thimes:[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],</span><br><span class="line">  print:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.thimes.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">n</span>)</span>&#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</span><br><span class="line">    &#125;,<span class="keyword">this</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">obj.print();</span><br><span class="line"><span class="comment">// 张三</span></span><br><span class="line"><span class="comment">// 张三</span></span><br><span class="line"><span class="comment">// 张三</span></span><br></pre></td></tr></table></figure>
<p>注意，forEach方法无法中断执行，总是会将所有成员遍历完。如果希望符合某种条件时，就中断遍历，要使用for循环。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;arr.length;i++)&#123;</span><br><span class="line">  <span class="keyword">if</span>(arr[i]===<span class="number">2</span>) <span class="keyword">break</span>;</span><br><span class="line">  <span class="built_in">console</span>.log(arr[i]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//2</span></span><br></pre></td></tr></table></figure></p>
<p>上面代码中，执行到数组的第二个成员时，就会中断执行。forEach方法做不到这一点。<br>forEach()方法和会跳过数组空位。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> log=<span class="function"><span class="keyword">function</span>(<span class="params">n</span>)</span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(n+<span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line">[<span class="number">1</span>,<span class="literal">undefined</span>,<span class="number">2</span>].forEach(log);</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">2</span></span><br><span class="line"><span class="comment">NaN</span></span><br><span class="line"><span class="comment">3</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line">[<span class="number">1</span>,<span class="literal">null</span>,<span class="number">2</span>].forEach(log);</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">2</span></span><br><span class="line"><span class="comment">1</span></span><br><span class="line"><span class="comment">3</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line">[<span class="number">1</span>,,<span class="number">2</span>].forEach(log);</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">2</span></span><br><span class="line"><span class="comment">3</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure></p>
<p>上面代码中，forEach方法不会跳过undefined和null，但会跳过空位。forEach方法也可以用于类似数组的对象和字符串。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj=&#123;</span><br><span class="line">    <span class="number">0</span>:<span class="number">1</span>,</span><br><span class="line">    a:<span class="string">'hello'</span>,</span><br><span class="line">    length:<span class="number">1</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">Array</span>.prototype.forEach.call(obj,<span class="function"><span class="keyword">function</span>(<span class="params">elem,i</span>)</span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(i+<span class="string">':'</span>+elem);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">//0:1</span></span><br><span class="line"><span class="keyword">var</span> str=<span class="string">'hello'</span>;</span><br><span class="line"><span class="built_in">Array</span>.prototype.forEach.call(str,<span class="function"><span class="keyword">function</span>(<span class="params">elem,i</span>)</span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(i+<span class="string">':'</span>+elem);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">0:h</span></span><br><span class="line"><span class="comment">1:e</span></span><br><span class="line"><span class="comment">2:1</span></span><br><span class="line"><span class="comment">3:1</span></span><br><span class="line"><span class="comment">4:o</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure></p>
<p>上面代码中，obj是一个类似数组的对象，forEach方法可以遍历它的数字键。forEach方法也可以遍历字符串。    </p>
<h3 id="14、filter"><a href="#14、filter" class="headerlink" title="14、filter()"></a>14、filter()</h3><p>filter方法的参数是一个函数，所有数组成员依次执行该函数，返回结果为true的成员组成一个新的数组返回，该方法不会改变原数组。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>].filter(<span class="function"><span class="keyword">function</span>(<span class="params">elem</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">return</span> (elem&gt;<span class="number">3</span>);</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">//[4,5];</span></span><br></pre></td></tr></table></figure></p>
<p>上面代码将大于3的原数组成员，作为一个新数组返回。<br>另一个例子：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr=[<span class="number">0</span>,<span class="number">1</span>,<span class="string">'a'</span>,<span class="literal">false</span>];</span><br><span class="line">arr.fiter(<span class="built_in">Boolean</span>);</span><br><span class="line"><span class="comment">//[1,'a']</span></span><br></pre></td></tr></table></figure></p>
<p>上面的例子中，通过filter方法，返回数组arr里面的所有布尔值为true的成员。<br>filter方法的参数函数可以接受三个参数，第一个参数是当前成员的值，这是必需的，后两个参数是可选的，分别是当前数组成员的位置和整个数组。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>].filter(<span class="function"><span class="keyword">function</span>(<span class="params">elem,index,arr</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">return</span> index%<span class="number">2</span>===<span class="number">0</span>;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">//[1,2,5]</span></span><br></pre></td></tr></table></figure></p>
<p>filter方法还可以接受第二个参数，指定测试函数所在的上下文对象（即this对象）。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> Obj=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.MAX=<span class="number">3</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> myFilter=<span class="function"><span class="keyword">function</span>(<span class="params">item</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">if</span>(item&gt;<span class="keyword">this</span>.MAX)&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> arr=[<span class="number">2</span>,<span class="number">8</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">1</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="number">9</span>];</span><br><span class="line">arr.filter(myFilter,<span class="keyword">new</span> Obj())</span><br><span class="line"><span class="comment">//[8,4,9]</span></span><br></pre></td></tr></table></figure></p>
<p>上面代码中，测试函数myFilter内部有this对象，它可以被filter方法的第二个参数绑定。上例中，myFilter的this绑定了Obj对象的实例，返回大于3的成员。    </p>
<h3 id="15-some-every"><a href="#15-some-every" class="headerlink" title="15.some(),every()"></a>15.some(),every()</h3><p>这两个方法类似“断言”（assert），用来判断数组成员是否符合某种条件。<br>它们接受一个函数作为参数，所有数组成员依次执行函数，返回一个布尔值。该函数接受三个参数，依次是当前位置的成员，当前位置的序号和整个数组。<br>some方法是只要有一个数组成员的返回值是true，则整个some方法的返回值就是true，否则false。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>];</span><br><span class="line">arr.some(<span class="function"><span class="keyword">function</span>(<span class="params">elem,index,arr</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> elem&gt;=<span class="number">3</span>;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">//true</span></span><br></pre></td></tr></table></figure></p>
<p>上面代码表示，如果存在大于3的数组成员，就返回true。<br>every方法则是所有数组成员的返回值都是true，返回true，否则返回false。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>];</span><br><span class="line">arr.every(<span class="function"><span class="keyword">function</span>(<span class="params">elem,index,arr</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> elem&gt;=<span class="number">3</span>;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">//false</span></span><br></pre></td></tr></table></figure></p>
<p>==注意==:对于空数组，some方法返回falseevery方法返回true，回调函数都不会执行。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">isEven</span>(<span class="params">s</span>)</span>&#123;<span class="keyword">return</span> x%<span class="number">2</span>===<span class="number">0</span>&#125;</span><br><span class="line">[].some(isEven);<span class="comment">//false</span></span><br><span class="line">[].every(isEven);<span class="comment">//true</span></span><br></pre></td></tr></table></figure></p>
<p>some和every方法还可以接受第二个参数，用来绑定函数中的this关键字。   </p>
<h4 id="16-reduce-reduceRight"><a href="#16-reduce-reduceRight" class="headerlink" title="16. reduce(),,reduceRight()"></a>16. reduce(),,reduceRight()</h4><p>reduce()方法和reduceRight()方法依次处理数组的每个成员，最后累计为一个值。它们的差别是，它们的差别是，reduce是从左到右处理（从第一个成员到最后一个成员），reduceRight则是从右到左（从最后一个成员到第一个成员），其他完全一样。<br>这两个方法的第一个参数都是一个函数。该函数接受以下四个参数。    </p>
<ol>
<li>累积变量，默认为数组的第一个成员</li>
<li>当前变量，默认为数组的第二个成员</li>
<li>当前位置（从0开始）</li>
<li>原数组</li>
</ol>
<p>这四个参数之中，只有前两个是必须的，后两个则是可选的。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>].reduce(<span class="function"><span class="keyword">function</span>(<span class="params">x,y</span>)</span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(x,y);</span><br><span class="line">  <span class="keyword">return</span> x+y;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">1 2</span></span><br><span class="line"><span class="comment">3 3</span></span><br><span class="line"><span class="comment">6 4</span></span><br><span class="line"><span class="comment">10 5</span></span><br><span class="line"><span class="comment">最后结果：15</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure></p>
<p>利用reduce方法，可以写一个数组求和的sum方法。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.prototype.sum=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">this</span>.reduce(<span class="function"><span class="keyword">function</span>(<span class="params">x,y</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x+y;</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line">[<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">10</span>].sum();</span><br><span class="line"><span class="comment">//28</span></span><br></pre></td></tr></table></figure></p>
<p>如果要对累积变量指定初值，可以把它放在reduce方法和reduceRight方法的第二个参数。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>].reduce(<span class="function"><span class="keyword">function</span>(<span class="params">x,y</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x+y;</span><br><span class="line">&#125;,<span class="number">10</span>);</span><br><span class="line"><span class="comment">//25</span></span><br></pre></td></tr></table></figure></p>
<p>上面代码指定参数x的初值为10，所以数组从10开始累加，最终结果为25。注意，这时y是从数组的第一个成员开始遍历。<br>第二个参数相当于设定了默认值，处理空数组时尤其有用。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">prev,cur</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">return</span> prev+cur;</span><br><span class="line">&#125;</span><br><span class="line">[].reduce(add);<span class="comment">//ERROR</span></span><br><span class="line">[].reduce(add,<span class="number">1</span>);<span class="comment">//1</span></span><br></pre></td></tr></table></figure></p>
<p>上面代码中，由于空数组取不到初始值，reduce方法会报错。这时，加上第二个参数，就能保证总是会返回一个值。<br>下面是一个reduceRight方法的例子。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">substract</span>(<span class="params">prev,cur</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">return</span> prev-cur;</span><br><span class="line">&#125;</span><br><span class="line">[<span class="number">3</span>,<span class="number">2</span>,<span class="number">1</span>].reduce(substract);<span class="comment">//0</span></span><br><span class="line">[<span class="number">3</span>,<span class="number">2</span>,<span class="number">1</span>].reduceRight(substract);<span class="comment">//-4</span></span><br></pre></td></tr></table></figure></p>
<h3 id="17-indexOf-lastIndexOf"><a href="#17-indexOf-lastIndexOf" class="headerlink" title="17.indexOf(),lastIndexOf()"></a>17.indexOf(),lastIndexOf()</h3><p>indexOf方法返回给定元素在数组中第一个出现的位置，如果没有出现则返回-1。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a=[<span class="string">'a'</span>,<span class="string">'b'</span>,<span class="string">'c'</span>];</span><br><span class="line"></span><br><span class="line">a.indexOf(<span class="string">'b'</span>);<span class="comment">//1</span></span><br><span class="line">a.indexOf(<span class="string">'y'</span>);<span class="comment">//-1</span></span><br></pre></td></tr></table></figure></p>
<p>indexOf方法还可以接受第二个参数，表示搜索的开始位置。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="string">'a'</span>,<span class="string">'b'</span>,<span class="string">'c'</span>].indexOf(<span class="string">'a'</span>,<span class="number">1</span>);<span class="comment">//-1</span></span><br></pre></td></tr></table></figure></p>
<p>lastIndexOf返回给定元素在数组中最后出现的位置，如果没有出现则返回-1。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a=[<span class="number">2</span>,<span class="number">5</span>,<span class="number">9</span>,<span class="number">2</span>];</span><br><span class="line">a.lastIndexOf(<span class="number">2</span>);<span class="comment">//3</span></span><br><span class="line">a.lastIndexOf(<span class="number">7</span>);<span class="comment">//-1</span></span><br></pre></td></tr></table></figure></p>
<p>==注意==：如果数组中包含NaN,这两个方法不适用，即无法确定数组成员是否包含NaN。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[<span class="literal">NaN</span>].indexOf(<span class="literal">NaN</span>);<span class="comment">//-1</span></span><br><span class="line">[<span class="literal">NaN</span>].lastIndexOf(<span class="literal">NaN</span>);<span class="comment">//-1</span></span><br></pre></td></tr></table></figure></p>
<p>这是因为这两个方法内部，适用严格相等元素符（===）进行比较，而NaN是唯一一个不等于自身的值。    </p>
<h3 id="18-链式使用"><a href="#18-链式使用" class="headerlink" title="18.链式使用"></a>18.链式使用</h3><p>上面这些方法之中，有不少返回的还是数组，所以可以链式使用。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> users=[</span><br><span class="line">  &#123;<span class="attr">name</span>:<span class="string">'tom'</span>,<span class="attr">elmail</span>:<span class="string">'tom@example.com'</span>&#125;,</span><br><span class="line">  &#123;<span class="attr">name</span>:<span class="string">'peter'</span>,<span class="attr">email</span>:<span class="string">'peter@example.com'</span>&#125;</span><br><span class="line">];</span><br><span class="line">users</span><br><span class="line">.map(<span class="function"><span class="keyword">function</span>(<span class="params">user</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">return</span> user.email;</span><br><span class="line">&#125;)</span><br><span class="line">.filter(<span class="function"><span class="keyword">function</span>(<span class="params">email</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="regexp">/^t/</span>.test(email);</span><br><span class="line">&#125;)</span><br><span class="line">.forEach(alert);</span><br><span class="line"><span class="comment">//弹出tom@example.com</span></span><br></pre></td></tr></table></figure></p>
<hr>
<h1 id="ES6有关数组的扩展"><a href="#ES6有关数组的扩展" class="headerlink" title="ES6有关数组的扩展"></a>ES6有关数组的扩展</h1><h2 id="一、扩展运算符"><a href="#一、扩展运算符" class="headerlink" title="一、扩展运算符"></a>一、扩展运算符</h2><p>示例一：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(...[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]);</span><br><span class="line"><span class="comment">//1 2 3</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">1</span>,...[<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>],<span class="number">5</span>);</span><br><span class="line"><span class="comment">//1 2 3 4 5</span></span><br><span class="line">[...document.querySelectorAll(<span class="string">'div'</span>)]</span><br><span class="line"><span class="comment">//[&lt;div&gt;,&lt;div&gt;,&lt;div&gt;]</span></span><br></pre></td></tr></table></figure></p>
<p>该运算符主要用于函数调用时填写参数。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params">,w,x,y,z</span>)</span>&#123;&#125;</span><br><span class="line"><span class="keyword">const</span> args=[<span class="number">0</span>,<span class="number">1</span>];</span><br><span class="line">f(<span class="number">-1</span>,...args,<span class="number">2</span>,...[<span class="number">3</span>]);</span><br></pre></td></tr></table></figure></p>
<p>扩展运算符后面可以放置在表达式中。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr=[</span><br><span class="line">  ...(x&gt;<span class="number">0</span>?[<span class="string">'a'</span>]:[]),</span><br><span class="line">  <span class="string">'b'</span></span><br><span class="line">]</span><br></pre></td></tr></table></figure></p>
<p>如果扩展运算符后面是一个空数组，则不产生任何效果。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[...[],<span class="number">1</span>]</span><br><span class="line"><span class="comment">//[1]</span></span><br></pre></td></tr></table></figure></p>
<h3 id="1-代替函数的apply方法"><a href="#1-代替函数的apply方法" class="headerlink" title="1. 代替函数的apply方法"></a>1. 代替函数的apply方法</h3><p>由于扩展运算符可以展开数组，所以不再需要apply方法，将数组转为函数的参数了。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ES5的写法</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params">x,y,z</span>)</span>&#123;</span><br><span class="line">  <span class="comment">//...</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> args=[<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>];</span><br><span class="line">f.apply(<span class="literal">null</span>,args);</span><br><span class="line"></span><br><span class="line"><span class="comment">//ES6的写法</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params">x,y,z</span>)</span>&#123;</span><br><span class="line">  <span class="comment">//...</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> args=[<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>];</span><br><span class="line">f(...args);</span><br></pre></td></tr></table></figure></p>
<p>再看一个实例：扩展运算符取代apply方法，应用Math.max方法，简化数组最大值。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ES5的写法</span></span><br><span class="line"><span class="built_in">Math</span>.max.apply(<span class="literal">null</span>,[<span class="number">14</span>,<span class="number">3</span>,<span class="number">77</span>]);</span><br><span class="line"><span class="comment">//ES6的写法</span></span><br><span class="line"><span class="built_in">Math</span>.max(...[<span class="number">14</span>,<span class="number">3</span>,<span class="number">77</span>]);</span><br><span class="line"><span class="comment">//等同于</span></span><br><span class="line"><span class="built_in">Math</span>.max(<span class="number">14</span>,<span class="number">3</span>,<span class="number">77</span>);</span><br></pre></td></tr></table></figure></p>
<p>另一个实例：通过push函数，将一个数组添加到另一个数组尾部。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ES5的写法</span></span><br><span class="line"><span class="keyword">var</span> arr1=[<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>];</span><br><span class="line"><span class="keyword">var</span> arr2=[<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>];</span><br><span class="line"><span class="built_in">Array</span>.prototype.push.apply(arr1,arr2);</span><br><span class="line"></span><br><span class="line"><span class="comment">//ES6的写法</span></span><br><span class="line"><span class="keyword">let</span> arr1=[<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>];</span><br><span class="line"><span class="keyword">let</span> arr2=[<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>];</span><br><span class="line">arr1.push(...arr2);</span><br></pre></td></tr></table></figure></p>
<h3 id="2-扩展函数运算符的应用"><a href="#2-扩展函数运算符的应用" class="headerlink" title="2. 扩展函数运算符的应用"></a>2. 扩展函数运算符的应用</h3><h4 id="（1）、复制数组"><a href="#（1）、复制数组" class="headerlink" title="（1）、复制数组"></a>（1）、复制数组</h4><p>数组是复合数据类型，直接复制的话，只是复制了指向底层数据结构的指针，而不是克隆一个全新的数组。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> a1=[<span class="number">1</span>,<span class="number">2</span>];</span><br><span class="line"><span class="keyword">const</span> a2=a1;</span><br><span class="line">a2[<span class="number">0</span>]=<span class="number">2</span>;</span><br><span class="line"><span class="built_in">console</span>.log(a2);<span class="comment">//[2,2]</span></span><br></pre></td></tr></table></figure></p>
<p>上面代码只是浅拷贝。<br>ES5只能用变通的方法复制数组。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> a1=[<span class="number">1</span>,<span class="number">2</span>];</span><br><span class="line"><span class="keyword">const</span> a2=a1.concat();</span><br><span class="line"></span><br><span class="line">a2[<span class="number">0</span>]=<span class="number">2</span>;</span><br><span class="line"><span class="built_in">console</span>.log(a1);<span class="comment">//[1,2]</span></span><br></pre></td></tr></table></figure></p>
<p>扩展运算度提供了复制数组的简便写法。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> a1=[<span class="number">1</span>,<span class="number">2</span>];</span><br><span class="line"><span class="comment">//写法一</span></span><br><span class="line"><span class="keyword">const</span> a2=[...a1];</span><br><span class="line"><span class="comment">//写法二</span></span><br><span class="line"><span class="keyword">const</span> [...a2]=a1;</span><br></pre></td></tr></table></figure></p>
<h4 id="（2）、合并数组"><a href="#（2）、合并数组" class="headerlink" title="（2）、合并数组"></a>（2）、合并数组</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ES5合并数组</span></span><br><span class="line">arr1.concat(arr2,arr3);</span><br><span class="line"></span><br><span class="line"><span class="comment">//ES6合并数组</span></span><br><span class="line">[...arr1,...arr2,...arr3];</span><br></pre></td></tr></table></figure>
<h4 id="（3）、与解构赋值结合"><a href="#（3）、与解构赋值结合" class="headerlink" title="（3）、与解构赋值结合"></a>（3）、与解构赋值结合</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> [first,...reset]=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>];</span><br><span class="line"><span class="built_in">console</span>.log(first);<span class="comment">//1</span></span><br><span class="line"><span class="built_in">console</span>.log(rest);<span class="comment">//[2,3,4,5];</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> [first,...reset]=[];</span><br><span class="line"><span class="built_in">console</span>.log(first);<span class="comment">//undefined</span></span><br><span class="line"><span class="built_in">console</span>.log(rest);<span class="comment">//[]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> [first,...rest]=[<span class="string">'foo'</span>];</span><br><span class="line"><span class="built_in">console</span>.log(first);<span class="comment">//'foo'</span></span><br><span class="line"><span class="built_in">console</span>.log(rest);<span class="comment">//[]</span></span><br></pre></td></tr></table></figure>
<p>==注意==：如果将扩展运算符用于数组赋值，只能放在参数的最后一位，否则会报错。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> [...butLast,last]=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>];</span><br><span class="line"><span class="comment">//报错</span></span><br><span class="line"><span class="keyword">const</span> [first,...middle,last]=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>];</span><br><span class="line"><span class="comment">//报错</span></span><br></pre></td></tr></table></figure></p>
<h4 id="（4）、字符串"><a href="#（4）、字符串" class="headerlink" title="（4）、字符串"></a>（4）、字符串</h4><p>扩展运算符还可以将字符转为真正的数组。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[...<span class="string">'hello'</span>];</span><br><span class="line"><span class="comment">//['h','e','l','l','o']</span></span><br></pre></td></tr></table></figure></p>
<p>上面的写法有一个好处就是能够正确的识别四个字节的Unicode字符。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="string">'x\uD83D\uDE880y'</span>.length);<span class="comment">//4</span></span><br><span class="line"><span class="built_in">console</span>.log([...<span class="string">'x\uD83D\uDE80y'</span>].length);<span class="comment">//3</span></span><br></pre></td></tr></table></figure></p>
<h4 id="（5）、实现了Iterator接口的对象"><a href="#（5）、实现了Iterator接口的对象" class="headerlink" title="（5）、实现了Iterator接口的对象"></a>（5）、实现了Iterator接口的对象</h4><p>任何一个Iterator接口的对象，都可以用扩展运算符转为真正的数组。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> nodeList=<span class="built_in">document</span>.querySelectorAll(<span class="string">'div'</span>);</span><br><span class="line"><span class="keyword">let</span> array=[...nodeList]</span><br></pre></td></tr></table></figure></p>
<p>上面代码中，querySelectorAll方法返回的是一个NodeList对象。它不是数组，而是一个类似数组的对象。这时，运算符可以将其转为真正的数组，原因就在于NodeList对象实现了Iterator。<br>对于那些没有部署Iterator接口的类似数组的对象，扩展运算符就无法将其转为真正的数组。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arrayLike=&#123;</span><br><span class="line">    <span class="string">'0'</span>:<span class="string">'a'</span>,</span><br><span class="line">    <span class="string">'1'</span>:<span class="string">'b'</span>,</span><br><span class="line">    <span class="string">'2'</span>:<span class="string">'c'</span>,</span><br><span class="line">    length:<span class="number">3</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> arr=[...arrayLike];<span class="comment">//ERROR</span></span><br></pre></td></tr></table></figure></p>
<p>上面代码中，arrayLike是一个类似数组的对象，但是没有部署Iterator接口，扩展运算符就会报错。这时，可以改为使用Array.from方法将arrayLike转为真正的数组。    </p>
<h4 id="（6）、Map和Set结构，Generator函数"><a href="#（6）、Map和Set结构，Generator函数" class="headerlink" title="（6）、Map和Set结构，Generator函数"></a>（6）、Map和Set结构，Generator函数</h4><p>扩展运算符内部用的是数据结构的Iterator接口，因此只要具有Iterator接口对象都可以使用扩展运算符，比如Map结构。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> map=<span class="keyword">new</span> <span class="built_in">Map</span>([</span><br><span class="line">  [<span class="number">1</span>,<span class="string">'one'</span>],</span><br><span class="line">  [<span class="number">2</span>,<span class="string">'two'</span>],</span><br><span class="line">  [<span class="number">3</span>,<span class="string">'three'</span>]</span><br><span class="line">]);</span><br><span class="line"><span class="keyword">let</span> arr=[...map.keys()];<span class="comment">//[1,2,3]</span></span><br></pre></td></tr></table></figure></p>
<p>Generator函数运行后，返回一个遍历器对象，因此也可以使用扩展运算符。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> go=<span class="function"><span class="keyword">function</span> *(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">yield</span> <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">yield</span> <span class="number">2</span>;</span><br><span class="line">  <span class="keyword">yield</span> <span class="number">3</span>;</span><br><span class="line">&#125;;</span><br><span class="line">[...go()];<span class="comment">//[1,2,3]</span></span><br></pre></td></tr></table></figure></p>
<p>上面代码中，变量go是一个Generator函数，执行后返回的是一个遍历器对象，对这个遍历器对象执行扩展运算符，就会将内部遍历得到的值，转为一个数组。<br>如果对没有Iterator接口的对象，使用扩展运算符，将会报错。    </p>
<h2 id="二、Array-from"><a href="#二、Array-from" class="headerlink" title="二、Array.from()"></a>二、Array.from()</h2><p>Array.from方法用于将两类对象转为真正的数组：类似数组的对象（array-like object）和遍历（iterator）对象（包括ES6新增的数组结构Set和Map）。<br>下面是一个类似数组的对象，Array.from将它转为真正的数组。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arrayLike=&#123;</span><br><span class="line">  <span class="string">'0'</span>:<span class="string">'a'</span>,</span><br><span class="line">  <span class="string">'1'</span>:<span class="string">'b'</span>,</span><br><span class="line">  <span class="string">'2'</span>:<span class="string">'c'</span>,</span><br><span class="line">  length:<span class="number">3</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//ES5的写法</span></span><br><span class="line"><span class="keyword">var</span> arr1=[].slice.call(arrayLike);<span class="comment">//['a','b','c']</span></span><br><span class="line"><span class="comment">//ES6的写法</span></span><br><span class="line"><span class="keyword">let</span> arr2=<span class="built_in">Array</span>.from(arrayLike);<span class="comment">//['a','b','c']</span></span><br></pre></td></tr></table></figure></p>
<p>实际应用中，常见的类似数组的对象DOM操作返回的NodeList集合，以及函数内部的arguments对象。Array.from都可以将它们转为真正的数组。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//NodeList对象</span></span><br><span class="line"><span class="keyword">let</span> ps=<span class="built_in">document</span>.querySelectorAll(<span class="string">'p'</span>);</span><br><span class="line"><span class="built_in">Array</span>.from(ps).filter(<span class="function"><span class="params">p</span>=&gt;</span>&#123;</span><br><span class="line">  <span class="keyword">return</span> p.textContent.length&gt;<span class="number">100</span>;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">//arguments对象</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="keyword">var</span> args=<span class="built_in">Array</span>.from(<span class="built_in">arguments</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>上面代码中，querySelectorAll方法返回一个类似数组的对象，可以将这个对象转为真正的数组，再使用forEach方法。    </p>
<p>只要是部署了Iterator接口的数据结构，Array.from都将其转为数组。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.from(<span class="string">'hello'</span>)</span><br><span class="line"><span class="comment">//['h','e','l','l','o']</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> nameSet=<span class="keyword">new</span> <span class="built_in">Set</span>([<span class="string">'a'</span>,b])</span><br><span class="line"><span class="built_in">Array</span>.from(nameSet);<span class="comment">//['a',b]</span></span><br></pre></td></tr></table></figure></p>
<p>上面代码中，字符串和Set结构具有Iterator接口，因此可以被Array.from转为真正的数组。<br>如果参数是一个真正的数组，Array.from会返回一个一模一样的数组。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.from([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]);</span><br><span class="line"><span class="comment">//[1,2,3]</span></span><br></pre></td></tr></table></figure></p>
<p>值得提醒的是，扩展运算符(…)也可以将某些数据结构转为数组。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//arguments对象</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">const</span> args=[...arguments];</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//NodeList对象</span></span><br><span class="line">[...document.querySelectorAll(<span class="string">'div'</span>)]</span><br></pre></td></tr></table></figure></p>
<p>扩展运算符背后调用的是一个遍历器接口（Symbol.iterator），如果一个对象没有部署这个接口，就无法转换。所谓类似数组的对象，本质特征只有一点，即必须有length属性。因此，任何有length属性的对象，都可以通过Array.from方法转为数组，而此时扩展运算符就无法转换。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.from(&#123;<span class="attr">length</span>:<span class="number">3</span>&#125;);</span><br><span class="line"><span class="comment">//[undefined,undefined,undefined]</span></span><br></pre></td></tr></table></figure></p>
<p>上面代码中，Array.from返回了一个具有三个成员的数组，每个位置的值都是undefined。扩展运算符转换不了这个对象。<br>对于还没有部署该对象的浏览器，可以用Array。protot.slice方法代替。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> toArray=<span class="function"><span class="keyword">function</span>(<span class="params"></span></span></span><br><span class="line"><span class="function"><span class="params">  retrun Array.from?Array.from:Array.prototype.slice.call(</span>)</span></span><br><span class="line"><span class="function">)</span></span><br></pre></td></tr></table></figure></p>
<p>Array.from还可以接受第二个参数，作用类似于数组的map方法，用来对每个元素进行处理，将处理后的值传入返回的数组。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.from(arrayLike,x=&gt;x*x);</span><br><span class="line"><span class="comment">//等同于</span></span><br><span class="line"><span class="built_in">Array</span>.from(arrayLike).map(<span class="function"><span class="params">x</span>=&gt;</span>x*x);</span><br><span class="line"></span><br><span class="line"><span class="built_in">Array</span>.from([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],(x)=&gt;x*x)</span><br><span class="line"><span class="comment">//[1,4,9]</span></span><br></pre></td></tr></table></figure></p>
<p>下面的例子是取出一组DOM节点的文本内容。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> spans=<span class="built_in">document</span>.querySelectorAll(<span class="string">'span'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//map()</span></span><br><span class="line"><span class="keyword">let</span> names1=<span class="built_in">Array</span>.prototype.map.call(spans,s=&gt;s.textContent);</span><br><span class="line"></span><br><span class="line"><span class="comment">//Array.from()</span></span><br><span class="line"><span class="keyword">let</span> names2=<span class="built_in">Array</span>.from(spans,s=&gt;s.textContent);</span><br></pre></td></tr></table></figure></p>
<p>另一个例子，是返回各种数据的类型。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">typesOf</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Array</span>.from(<span class="built_in">arguments</span>,value=&gt;<span class="keyword">typeof</span> value)</span><br><span class="line">&#125;</span><br><span class="line">typeOf(<span class="literal">null</span>,[],<span class="literal">NaN</span>);</span><br><span class="line"><span class="comment">//['object','object','number']</span></span><br></pre></td></tr></table></figure></p>
<p>如果map函数里面用到了this关键字，还可以传入Array.from的第三个参数，用来绑定this。<br>Array.from()的另一个应用是，将字符串转为数组，然后返回字符串的长度。因为它能正确的处理各种Unicode字符，可以避免javascript将大于\uFFFF的Unicode字符，算作两个字符的bug。    </p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">countSymbols</span>(<span class="params">string</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Array</span>.from(string).length;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="三、Array-of"><a href="#三、Array-of" class="headerlink" title="三、Array.of()"></a>三、Array.of()</h2><p>Array.of方法用于将一组值，转为数组。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.of(<span class="number">3</span>,<span class="number">11</span>,<span class="number">8</span>);<span class="comment">//[3,11,8]</span></span><br><span class="line"><span class="built_in">Array</span>.of(<span class="number">3</span>);<span class="comment">//[3]</span></span><br><span class="line"><span class="built_in">Array</span>.of(<span class="number">3</span>).length;<span class="comment">//1</span></span><br></pre></td></tr></table></figure></p>
<p>这个方法的主要目的，是弥补数组构造函数Array()的不足。因为参数个数不同，会导致Array()的行为有差异。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>();<span class="comment">//[]</span></span><br><span class="line"><span class="built_in">Array</span>(<span class="number">3</span>);<span class="comment">//[,,,]</span></span><br><span class="line"><span class="built_in">Array</span>(<span class="number">3</span>,<span class="number">11</span>,<span class="number">8</span>);<span class="comment">//[3,11,8]</span></span><br></pre></td></tr></table></figure></p>
<p>Array.of基本上可以用来代替Array()或new Array(),并且不存在由于参数不同而导致的重载。它的行为非常统一。<br>Array.of方法可以用下面的代码模拟实现。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">ArrayOf</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> [].slice.call(<span class="built_in">arguments</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="四、数组实例的copyWidthin"><a href="#四、数组实例的copyWidthin" class="headerlink" title="四、数组实例的copyWidthin()"></a>四、数组实例的copyWidthin()</h2><p>数组实例的copyWidthin()方法，在当前数组内部，将指定位置的成员复制到其他位置（会覆盖原有成员），然后返回当前数组。也就是说，使用这个方法，会修改当前数组。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.prototype.copyWidthin(target,start=<span class="number">0</span>,end=<span class="keyword">this</span>.length);</span><br></pre></td></tr></table></figure></p>
<p>接受三个参数：    </p>
<ol>
<li>target（必须）:从该位置替换数据</li>
<li>start（可选）：从该位置开始读取数据，默认为0，如果为负值，表示倒数</li>
<li>end（可选）：到该位置停止读取数据，默认等于数据长度，如果为负值，表示倒数。   </li>
</ol>
<p>这三个参数都应该是数值，如果不是，会自动转为数值。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>].copyWidthin(<span class="number">0</span>,<span class="number">3</span>);</span><br><span class="line"><span class="comment">//[4,5,3,4]</span></span><br></pre></td></tr></table></figure></p>
<p>上面代码表示将从3号位置直到数据结束的成员（4和5），复制到从0号位开始的位置，结果覆盖了原来的1和2。<br>下面是更多的例子：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//将3号位复制到0号位</span></span><br><span class="line">[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>].copyWidthin(<span class="number">0</span>,<span class="number">3</span>,<span class="number">4</span>)</span><br><span class="line"><span class="comment">//[4,2,3,4,5]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//-2相当于3号位，-1相当于4号位</span></span><br><span class="line">[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>].copyWidth(<span class="number">0</span>,<span class="number">-2</span>,<span class="number">-1</span>)</span><br><span class="line"><span class="comment">//[4,2,3,4,5]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//将3号位复制到0号位</span></span><br><span class="line">[].copyWidthin.call(&#123;<span class="attr">length</span>:<span class="number">5</span>,<span class="number">3</span>:<span class="number">1</span>&#125;,<span class="number">0</span>,<span class="number">3</span>);</span><br><span class="line"><span class="comment">//&#123;0:1,3:1,length:5&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//将2号位到数组结束，复制到0号位</span></span><br><span class="line"><span class="keyword">let</span> i32a=<span class="keyword">new</span> <span class="built_in">Int32Array</span>([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>]);</span><br><span class="line">i32.copyWidthin(<span class="number">0</span>,<span class="number">2</span>);</span><br><span class="line"><span class="comment">//Int32Array [3,4,5,4,5]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//对于没有部署TypedArray 的copyWidthin方法的平台</span></span><br><span class="line"><span class="comment">//需要采用下面的写法</span></span><br><span class="line">[].copyWidthin.call(<span class="keyword">new</span> <span class="built_in">Int32Array</span>([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>]),<span class="number">0</span>,<span class="number">3</span>,<span class="number">4</span>);</span><br><span class="line"><span class="comment">//Int32Array[4,2,3,4,5]</span></span><br></pre></td></tr></table></figure></p>
<h2 id="五、数组实例的find-和findIndex"><a href="#五、数组实例的find-和findIndex" class="headerlink" title="五、数组实例的find()和findIndex()"></a>五、数组实例的find()和findIndex()</h2><p>数组实例的find方法，用于找出第一个符合条件的数组成员。它的参数是一个回调函数，所有数据成员依次执行该回调函数，直到找到第一个返回值为true的成员，然后返回该成员。如果没有符合条件的成员，则返回undefined。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[<span class="number">1</span>,<span class="number">4</span>,<span class="number">-5</span>,<span class="number">10</span>].find(<span class="function">(<span class="params">n</span>)=&gt;</span>&#123;n&lt;<span class="number">0</span>&#125;)</span><br><span class="line"><span class="comment">//-5</span></span><br></pre></td></tr></table></figure></p>
<p>上面代码找出数组中第一个小于0的成员。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[<span class="number">1</span>,<span class="number">5</span>,<span class="number">10</span>,<span class="number">15</span>].find(<span class="function"><span class="keyword">function</span>(<span class="params">value,index,arr</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">return</span> value&gt;<span class="number">9</span>;</span><br><span class="line">&#125;)<span class="comment">//10</span></span><br></pre></td></tr></table></figure></p>
<p>find的回调函数中可以接受三个参数，依次为当前的值，当前的位置和原数组。<br>数组实例的findIndex方法与find方法非常类似，返回第一个符合条件的数组成员的位置，如果所有成员都不符合条件，则返回-1。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[<span class="number">1</span>,<span class="number">5</span>,<span class="number">10</span>,<span class="number">15</span>].findIndex(<span class="function"><span class="keyword">function</span>(<span class="params">value,index,arr</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">return</span> value&gt;<span class="number">9</span>;</span><br><span class="line">&#125;);<span class="comment">//2</span></span><br></pre></td></tr></table></figure></p>
<p>这两个方法都可以接受第二个参数，用来绑定会调用函数的this对象。另外，这两个方法都可以发现NaN，弥补了indexOf方法的不足。    </p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[<span class="literal">NaN</span>].indexOf(<span class="literal">NaN</span>);<span class="comment">//-1</span></span><br><span class="line">[<span class="literal">NaN</span>].findIndex(<span class="function"><span class="params">y</span>=&gt;</span><span class="built_in">Object</span>.is(<span class="literal">NaN</span>,y));<span class="comment">//0</span></span><br></pre></td></tr></table></figure>
<p>上面代码中，indexOf方法无法识别数组的NaN成员，但是findIndex方法可以借助Object.is方法做到。    </p>
<h2 id="六、数组实例的fill"><a href="#六、数组实例的fill" class="headerlink" title="六、数组实例的fill()"></a>六、数组实例的fill()</h2><p>fill方法使用给定值，填充一个数组。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[<span class="string">'a'</span>,<span class="string">'b'</span>,<span class="string">'c'</span>].fill(<span class="number">7</span>);</span><br><span class="line"><span class="comment">//[7,7,7]</span></span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Array</span>(<span class="number">3</span>).fill(<span class="number">7</span>);</span><br><span class="line"><span class="comment">//[7,7,7]</span></span><br></pre></td></tr></table></figure></p>
<p>上面代码表明，fill方法用于空数组的初始化非常方便。数组中已有的元素，会被全部抹去。<br>fill方法还可以接受第二个和第三个参数，用于指定填充的起始位置和结束位置。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[<span class="string">'a'</span>,<span class="string">'b'</span>,<span class="string">'c'</span>].fill(<span class="number">7</span>,<span class="number">1</span>,<span class="number">2</span>);</span><br><span class="line"><span class="comment">//['a','7','c']</span></span><br></pre></td></tr></table></figure></p>
<p>上面代码表示，fill方法从1号位开始，向原数组填充7，到2号位之前结束。    </p>
<h2 id="七、entries-keys-values"><a href="#七、entries-keys-values" class="headerlink" title="七、entries(),keys(),values()"></a>七、entries(),keys(),values()</h2><p>ES6提供三个新的方法：entries(),keys()和values()，用于遍历数组，它们都返回一个遍历器对象，可以用for…of循环进行遍历，唯一的区别是keys()是对键名的遍历，values()是对键值的遍历，entries()是对键值对的遍历。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> index <span class="keyword">of</span> [<span class="string">'a'</span>,<span class="string">'b'</span>].keys())&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(index);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//0</span></span><br><span class="line"><span class="comment">//1</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> elem <span class="keyword">of</span> [<span class="string">'a'</span>,<span class="string">'b'</span>].values())&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(elem);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//'a'</span></span><br><span class="line"><span class="comment">//'b'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> [index,elem] <span class="keyword">of</span> [<span class="string">'a'</span>,<span class="string">'b'</span>].entries())&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(index,elem);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//0:'a'</span></span><br><span class="line"><span class="comment">//1:'b'</span></span><br></pre></td></tr></table></figure></p>
<p>如果不使用for…of循环，可以手动调动对象的next方法，进行遍历。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> letter=[<span class="string">'a'</span>,<span class="string">'b'</span>,<span class="string">'c'</span>];</span><br><span class="line"><span class="keyword">let</span> entries=letter.entries();</span><br><span class="line"><span class="built_in">console</span>.log(entries.next().value);<span class="comment">//[0,'a']</span></span><br><span class="line"><span class="built_in">console</span>.log(entries.next().value);<span class="comment">//[1,'b']</span></span><br><span class="line"><span class="built_in">console</span>.log(entries.next().value);<span class="comment">//[2,'c']</span></span><br></pre></td></tr></table></figure></p>
<h2 id="八、数组实例的includes"><a href="#八、数组实例的includes" class="headerlink" title="八、数组实例的includes()"></a>八、数组实例的includes()</h2><p>Array.prototype.includes()方法返回一个布尔值，表示某个数组是否包含给定的值，与字符串的includes()方法类似。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>].includes(<span class="number">2</span>);<span class="comment">//true</span></span><br><span class="line">[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>].includes(<span class="number">4</span>);<span class="comment">//false</span></span><br><span class="line">[<span class="number">1</span>,<span class="number">2</span>,<span class="literal">NaN</span>].includes(<span class="literal">NaN</span>);<span class="comment">//true</span></span><br></pre></td></tr></table></figure></p>
<p>该方法的第二个参数表示搜索的起始位置，默认为0。如果第二个参数为负数，则表示倒数的位置，如果这时它大于数组长度（比如第二个参数为-4，但数组长度为3）则会重置为从0开始。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>].includes(<span class="number">3</span>,<span class="number">3</span>);<span class="comment">//false</span></span><br><span class="line">[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>].includes(<span class="number">3</span>,<span class="number">-1</span>);<span class="comment">//true</span></span><br></pre></td></tr></table></figure></p>
<p>没有该方法之前，我们通常使用数组的indexOf方法，检查是否包含某个值。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(arr.indexOf(ele)!==<span class="number">1</span>)&#123;</span><br><span class="line">  <span class="comment">//...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>indexOf方法有两个缺点，一是不够语义化，它的含义是找到参数数值的第一个出现位置，所以要去比较是否不等于-1，表达起来不够直观。二是，它内部使用严格相等运算符（===）进行判断，这会导致NaN的误判。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[<span class="literal">NaN</span>].indexOf(<span class="literal">NaN</span>);</span><br><span class="line"><span class="comment">//-1</span></span><br></pre></td></tr></table></figure></p>
<p>includes使用的是一样的判断算法，就是没有这个问题。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[<span class="literal">NaN</span>].includes(<span class="literal">NaN</span>);</span><br><span class="line"><span class="comment">//true</span></span><br></pre></td></tr></table></figure></p>
<p>下面代码用来检查当前环境是否支持该方法，如果不支持，部署一个简易的替换版本。   </p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> contains=<span class="function"><span class="keyword">function</span>(<span class="params">arr,value</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">if</span>(<span class="built_in">Array</span>.prototype.includes)&#123;</span><br><span class="line">    <span class="keyword">return</span> arr.includes(value);</span><br><span class="line">  &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    arr.some(<span class="function"><span class="keyword">function</span>(<span class="params">el</span>)</span>&#123;</span><br><span class="line">      el===value;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">contains([<span class="string">'foo'</span>,<span class="string">'bar'</span>],<span class="string">'baz'</span>);<span class="comment">//false</span></span><br></pre></td></tr></table></figure>
<h2 id="九、数组空位"><a href="#九、数组空位" class="headerlink" title="九、数组空位"></a>九、数组空位</h2><p>数组的空位值，数组的某一个位置没有任何值。比如，Array构造函数返回的数组都是空位。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>(<span class="number">3</span>);<span class="comment">//[,,,]</span></span><br></pre></td></tr></table></figure></p>
<p>上面代码中，Array(3)返回一个具有3个空位的数组。<br>注意，空位不是undefined，一个位置的值等于undefined，依然是有值的，空位是没有任何值，in运算符可以说明这一点。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">0</span> <span class="keyword">in</span> [<span class="literal">undefined</span>,<span class="literal">undefined</span>,<span class="literal">undefined</span>];<span class="comment">//true</span></span><br><span class="line"><span class="number">0</span> <span class="keyword">in</span> [,,,];<span class="comment">//false</span></span><br></pre></td></tr></table></figure></p>
<p>上面代码说明，第一个数组的0号位置是有值的，第二个数组的0号位置没有值。<br>ES5对空位的处理已经很不一致了，大多数情况下会忽略空位。     </p>
<ol>
<li>forEach(),filter(),reduce(),every()和some()都会跳过空位</li>
<li>map()会跳过空位，但会保留这个值</li>
<li>join()和toString()会将空位视为undefined，而undefined和null会被处理成空字符串。</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//forEach方法</span></span><br><span class="line">[,<span class="string">'a'</span>].forEach(<span class="function">(<span class="params">x,i</span>)=&gt;</span><span class="built_in">console</span>.log(i));<span class="comment">//1</span></span><br><span class="line"><span class="comment">//filter方法</span></span><br><span class="line">[<span class="string">'a'</span>,,<span class="string">'b'</span>].filter(<span class="function"><span class="params">x</span>=&gt;</span><span class="literal">true</span>);<span class="comment">//['a','b']</span></span><br><span class="line"><span class="comment">//every方法</span></span><br><span class="line">[,<span class="string">'a'</span>].every(<span class="function"><span class="params">x</span>=&gt;</span>x===<span class="string">'a'</span>);<span class="comment">//true</span></span><br><span class="line"><span class="comment">//reduce方法</span></span><br><span class="line">[<span class="number">1</span>,,<span class="number">2</span>].reduce(<span class="function">(<span class="params">x,y</span>)=&gt;</span><span class="keyword">return</span> x+y);<span class="comment">//3</span></span><br><span class="line"><span class="comment">//some方法</span></span><br><span class="line">[,<span class="string">'a'</span>].some(<span class="function"><span class="params">x</span>=&gt;</span>x!==<span class="string">'a'</span>);<span class="comment">//false</span></span><br><span class="line"><span class="comment">//map方法</span></span><br><span class="line">[,<span class="string">'a'</span>].map(<span class="function"><span class="params">x</span>=&gt;</span><span class="number">1</span>);<span class="comment">//[,1]</span></span><br><span class="line"><span class="comment">//join方法</span></span><br><span class="line">[,<span class="string">'a'</span>,<span class="literal">undefined</span>,<span class="literal">null</span>].join(<span class="string">"#"</span>);<span class="comment">//'#a##'</span></span><br><span class="line"><span class="comment">//toString方法</span></span><br><span class="line">[,<span class="string">'a'</span>,<span class="literal">undefined</span>,<span class="literal">null</span>].toString();<span class="comment">//',a,,'</span></span><br></pre></td></tr></table></figure>
<p>ES6则是明确将空位转为undefined。<br>Array.from方法会将数组的空位，转为undefined，也就是说，这个方法不会忽略空位。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.from([<span class="string">'a'</span>,,<span class="string">'c'</span>]);</span><br><span class="line"><span class="comment">//['a',undefined,'b']</span></span><br></pre></td></tr></table></figure></p>
<p>扩展运算符（…）也会将空位转为undefined。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[...[<span class="string">'a'</span>,,<span class="string">'b'</span>]]</span><br><span class="line"><span class="comment">//['a',undefined,'b']</span></span><br></pre></td></tr></table></figure></p>
<p>copyWidthin()会连空位一起拷贝。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[,<span class="string">'a'</span>,<span class="string">'b'</span>,,].copyWidthin(<span class="number">2</span>,<span class="number">0</span>);<span class="comment">//[,"a",,"a"]</span></span><br></pre></td></tr></table></figure></p>
<p>fill()会将空位视为正常的数组位置。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="built_in">Array</span>(<span class="number">3</span>).fill(<span class="string">'a'</span>);<span class="comment">//['a','a','a']</span></span><br></pre></td></tr></table></figure></p>
<p>for…of循环也会遍历空位<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr=[,,];</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> i <span class="keyword">of</span> arr)&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//1</span></span><br><span class="line"><span class="comment">//1</span></span><br></pre></td></tr></table></figure></p>
<p>上面代码中，数组arr中有两个空位，for…of并没有忽略它们。如果改成map方法遍历，空位是会跳过的。<br>entries(),keys(),values(),find()和findIndex()会将空位处理成undefined。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//entries</span></span><br><span class="line">[...[,<span class="string">'a'</span>].entries()];<span class="comment">//[[0,undefined],[1,'a']]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//values()</span></span><br><span class="line">[...[,<span class="string">'a'</span>].values()];<span class="comment">//[undefined,'a']</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//find()</span></span><br><span class="line">[,<span class="string">'a'</span>].find(<span class="function"><span class="params">x</span>=&gt;</span><span class="literal">true</span>);<span class="comment">//undefined</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//findIndex</span></span><br><span class="line">[,<span class="string">'a'</span>].findIndex(<span class="function"><span class="params">x</span>=&gt;</span><span class="literal">true</span>);<span class="comment">//0</span></span><br></pre></td></tr></table></figure></p>
<p>由于空位的处理规则非常不统一，所以建议避免出现空位。   </p>

      
    </div>
    
    
    

    
      <div>
        <div id="wechat_subscriber" style="display: block; padding: 10px 0; margin: 20px auto; width: 100%; text-align: center">
    <img id="wechat_subscriber_qcode" src="/uploads/wechat-qcode.png" alt="稻香Snowy wechat" style="width: 200px; max-width: 100%;"/>
    <div>欢迎您扫一扫上面的微信公众号，订阅我的博客！</div>
</div>

      </div>
    

    
      <div>
        <div style="padding: 10px 0; margin: 20px auto; width: 90%; text-align: center;">
  <div>您的支持将鼓励我继续创作！</div>
  <button id="rewardButton" disable="enable" onclick="var qr = document.getElementById('QR'); if (qr.style.display === 'none') {qr.style.display='block';} else {qr.style.display='none'}">
    <span>打赏</span>
  </button>
  <div id="QR" style="display: none;">

    
      <div id="wechat" style="display: inline-block">
        <img id="wechat_qr" src="/images/wechatpay.jpg" alt="稻香Snowy 微信支付"/>
        <p>微信支付</p>
      </div>
    

    

    

  </div>
</div>

      </div>
    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/JavaScript初探/" rel="tag"><i class="fa fa-tag"></i> JavaScript初探</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/JavaScript/JS初探六（JS中的对象）/" rel="next" title="JS初探六（JS中的对象）">
                <i class="fa fa-chevron-left"></i> JS初探六（JS中的对象）
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/JavaScript/JS初探八（JS中的字符串）/" rel="prev" title="JS初探八（JS中的字符串）">
                JS初探八（JS中的字符串） <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/images/toux.jpg"
                alt="稻香Snowy" />
            
              <p class="site-author-name" itemprop="name">稻香Snowy</p>
              <p class="site-description motion-element" itemprop="description">Stay Hungry.Stay Foolish</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">34</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">2</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">4</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/Asiazdx" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://www.jianshu.com/u/fb5f478b1a94" target="_blank" title="简书">
                      
                        <i class="fa fa-fw fa-heartbeat"></i>简书</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://juejin.im/user/59638598f265da6c4523c761" target="_blank" title="掘金">
                      
                        <i class="fa fa-fw fa-spinner"></i>掘金</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://weibo.com/5541828133/profile?rightmod=1&wvr=6&mod=personinfo&is_all=1" target="_blank" title="Weibo">
                      
                        <i class="fa fa-fw fa-Weibo"></i>Weibo</a>
                  </span>
                
            </div>
          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#一、数组的定义"><span class="nav-number">1.</span> <span class="nav-text">一、数组的定义</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#二、数组的本质"><span class="nav-number">2.</span> <span class="nav-text">二、数组的本质</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#三、length属性"><span class="nav-number">3.</span> <span class="nav-text">三、length属性</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#四、类似数组的对象"><span class="nav-number">4.</span> <span class="nav-text">四、类似数组的对象</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#五、in运算符"><span class="nav-number">5.</span> <span class="nav-text">五、in运算符</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#六、for…in循环和数组的遍历。"><span class="nav-number">6.</span> <span class="nav-text">六、for…in循环和数组的遍历。</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#七、数组的空位"><span class="nav-number">7.</span> <span class="nav-text">七、数组的空位</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#如果某个位置是undefined，遍历的时候就不会跳过。也就是说，空位是数组没有这个元素，所以不会被遍历到，而undefined则表示数组有这个元素，值是undefined，所以遍历不会跳过。"><span class="nav-number">8.</span> <span class="nav-text">如果某个位置是undefined，遍历的时候就不会跳过。也就是说，空位是数组没有这个元素，所以不会被遍历到，而undefined则表示数组有这个元素，值是undefined，所以遍历不会跳过。    </span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#标准库—–Array对象"><span class="nav-number"></span> <span class="nav-text">标准库—–Array对象</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#一、构造函数"><span class="nav-number">1.</span> <span class="nav-text">一、构造函数</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#二、Array-isArray"><span class="nav-number">2.</span> <span class="nav-text">二、Array.isArray()</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#三、Array实例方法"><span class="nav-number">3.</span> <span class="nav-text">三、Array实例方法</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-valueOf-toString"><span class="nav-number">3.1.</span> <span class="nav-text">1.valueOf(),toString()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-push"><span class="nav-number">3.2.</span> <span class="nav-text">2. push()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-pop"><span class="nav-number">3.3.</span> <span class="nav-text">3.pop()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-join"><span class="nav-number">3.4.</span> <span class="nav-text">4.join()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-concat"><span class="nav-number">3.5.</span> <span class="nav-text">5.concat()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-shift"><span class="nav-number">3.6.</span> <span class="nav-text">6.shift()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-unshift"><span class="nav-number">3.7.</span> <span class="nav-text">7.unshift()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#8-reverse"><span class="nav-number">3.8.</span> <span class="nav-text">8.reverse()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#9-slice"><span class="nav-number">3.9.</span> <span class="nav-text">9.slice()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#10-splice"><span class="nav-number">3.10.</span> <span class="nav-text">10.splice()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#11-sort"><span class="nav-number">3.11.</span> <span class="nav-text">11.sort()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#12-map"><span class="nav-number">3.12.</span> <span class="nav-text">12.map()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#13-forEach"><span class="nav-number">3.13.</span> <span class="nav-text">13. forEach()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#14、filter"><span class="nav-number">3.14.</span> <span class="nav-text">14、filter()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#15-some-every"><span class="nav-number">3.15.</span> <span class="nav-text">15.some(),every()</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#16-reduce-reduceRight"><span class="nav-number">3.15.1.</span> <span class="nav-text">16. reduce(),,reduceRight()</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#17-indexOf-lastIndexOf"><span class="nav-number">3.16.</span> <span class="nav-text">17.indexOf(),lastIndexOf()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#18-链式使用"><span class="nav-number">3.17.</span> <span class="nav-text">18.链式使用</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#ES6有关数组的扩展"><span class="nav-number"></span> <span class="nav-text">ES6有关数组的扩展</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#一、扩展运算符"><span class="nav-number">1.</span> <span class="nav-text">一、扩展运算符</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-代替函数的apply方法"><span class="nav-number">1.1.</span> <span class="nav-text">1. 代替函数的apply方法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-扩展函数运算符的应用"><span class="nav-number">1.2.</span> <span class="nav-text">2. 扩展函数运算符的应用</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#（1）、复制数组"><span class="nav-number">1.2.1.</span> <span class="nav-text">（1）、复制数组</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#（2）、合并数组"><span class="nav-number">1.2.2.</span> <span class="nav-text">（2）、合并数组</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#（3）、与解构赋值结合"><span class="nav-number">1.2.3.</span> <span class="nav-text">（3）、与解构赋值结合</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#（4）、字符串"><span class="nav-number">1.2.4.</span> <span class="nav-text">（4）、字符串</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#（5）、实现了Iterator接口的对象"><span class="nav-number">1.2.5.</span> <span class="nav-text">（5）、实现了Iterator接口的对象</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#（6）、Map和Set结构，Generator函数"><span class="nav-number">1.2.6.</span> <span class="nav-text">（6）、Map和Set结构，Generator函数</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#二、Array-from"><span class="nav-number">2.</span> <span class="nav-text">二、Array.from()</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#三、Array-of"><span class="nav-number">3.</span> <span class="nav-text">三、Array.of()</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#四、数组实例的copyWidthin"><span class="nav-number">4.</span> <span class="nav-text">四、数组实例的copyWidthin()</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#五、数组实例的find-和findIndex"><span class="nav-number">5.</span> <span class="nav-text">五、数组实例的find()和findIndex()</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#六、数组实例的fill"><span class="nav-number">6.</span> <span class="nav-text">六、数组实例的fill()</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#七、entries-keys-values"><span class="nav-number">7.</span> <span class="nav-text">七、entries(),keys(),values()</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#八、数组实例的includes"><span class="nav-number">8.</span> <span class="nav-text">八、数组实例的includes()</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#九、数组空位"><span class="nav-number">9.</span> <span class="nav-text">九、数组空位</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">稻香Snowy</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  <div class="bg_content">
    <div class="filter"></div>
    <canvas id="canvas"></canvas>
  </div>
</body>

<script>
var canvas = document.getElementById("canvas");
var ctx = canvas.getContext("2d");
var cw = canvas.width = window.innerWidth,
  cx = cw / 2;
var ch = canvas.height = window.innerHeight,
  cy = ch / 2;

ctx.fillStyle = "#999";
var linesNum = 16;
var linesRy = [];
var requestId = null;

function Line(flag) {
  this.flag = flag;
  this.a = {};
  this.b = {};
  if (flag == "v") {
    this.a.y = 0;
    this.b.y = ch;
    this.a.x = randomIntFromInterval(0, ch);
    this.b.x = randomIntFromInterval(0, ch);
  } else if (flag == "h") {
    this.a.x = 0;
    this.b.x = cw;
    this.a.y = randomIntFromInterval(0, cw);
    this.b.y = randomIntFromInterval(0, cw);
  }
  this.va = randomIntFromInterval(25, 100) / 100;
  this.vb = randomIntFromInterval(25, 100) / 100;

  this.draw = function() {
    ctx.strokeStyle = "#ccc";
    ctx.beginPath();
    ctx.moveTo(this.a.x, this.a.y);
    ctx.lineTo(this.b.x, this.b.y);
    ctx.stroke();
  }

  this.update = function() {
    if (this.flag == "v") {
      this.a.x += this.va;
      this.b.x += this.vb;
    } else if (flag == "h") {
      this.a.y += this.va;
      this.b.y += this.vb;
    }

    this.edges();
  }

  this.edges = function() {
    if (this.flag == "v") {
      if (this.a.x < 0 || this.a.x > cw) {
        this.va *= -1;
      }
      if (this.b.x < 0 || this.b.x > cw) {
        this.vb *= -1;
      }
    } else if (flag == "h") {
      if (this.a.y < 0 || this.a.y > ch) {
        this.va *= -1;
      }
      if (this.b.y < 0 || this.b.y > ch) {
        this.vb *= -1;
      }
    }
  }

}

for (var i = 0; i < linesNum; i++) {
  var flag = i % 2 == 0 ? "h" : "v";
  var l = new Line(flag);
  linesRy.push(l);
}

function Draw() {
  requestId = window.requestAnimationFrame(Draw);
  ctx.clearRect(0, 0, cw, ch);

  for (var i = 0; i < linesRy.length; i++) {
    var l = linesRy[i];
    l.draw();
    l.update();
  }
  for (var i = 0; i < linesRy.length; i++) {
    var l = linesRy[i];
    for (var j = i + 1; j < linesRy.length; j++) {
      var l1 = linesRy[j]
      Intersect2lines(l, l1);
    }
  }
}

function Init() {
  linesRy.length = 0;
  for (var i = 0; i < linesNum; i++) {
    var flag = i % 2 == 0 ? "h" : "v";
    var l = new Line(flag);
    linesRy.push(l);
  }

  if (requestId) {
    window.cancelAnimationFrame(requestId);
    requestId = null;
  }

  cw = canvas.width = window.innerWidth,
    cx = cw / 2;
  ch = canvas.height = window.innerHeight,
    cy = ch / 2;

  Draw();
};

setTimeout(function() {
  Init();

  addEventListener('resize', Init, false);
}, 15);

function Intersect2lines(l1, l2) {
  var p1 = l1.a,
    p2 = l1.b,
    p3 = l2.a,
    p4 = l2.b;
  var denominator = (p4.y - p3.y) * (p2.x - p1.x) - (p4.x - p3.x) * (p2.y - p1.y);
  var ua = ((p4.x - p3.x) * (p1.y - p3.y) - (p4.y - p3.y) * (p1.x - p3.x)) / denominator;
  var ub = ((p2.x - p1.x) * (p1.y - p3.y) - (p2.y - p1.y) * (p1.x - p3.x)) / denominator;
  var x = p1.x + ua * (p2.x - p1.x);
  var y = p1.y + ua * (p2.y - p1.y);
  if (ua > 0 && ub > 0) {
    markPoint({
      x: x,
      y: y
    })
  }
}

function markPoint(p) {
  ctx.beginPath();
  ctx.arc(p.x, p.y, 2, 0, 2 * Math.PI);
  ctx.fill();
}

function randomIntFromInterval(mn, mx) {
  return ~~(Math.random() * (mx - mn + 1) + mn);
}

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/canvasline.js?v=5.1.4"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</script>
</html>
